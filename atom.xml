<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>洞香春</title>
  
  <subtitle>洞香春以名士荟萃、谈论国事、交流思想而著称于当时列国 --《大秦帝国》</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://wdd.js.org/"/>
  <updated>2018-02-08T01:46:13.000Z</updated>
  <id>https://wdd.js.org/</id>
  
  <author>
    <name>王端端</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>audio-heart-detail</title>
    <link href="https://wdd.js.org/audio-heart-detail.html"/>
    <id>https://wdd.js.org/audio-heart-detail.html</id>
    <published>2018-02-08T01:44:01.000Z</published>
    <updated>2018-02-08T01:46:13.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>我觉得DOM就好像是元素周期表里的元素，JS就好像是实验器材，通过各种化学反应，产生各种魔术。</p></blockquote><p><img src="http://p3alsaatj.bkt.clouddn.com/20180208094439_zGRL80_Screenshot.jpeg" alt=""></p><h1 id="Audio"><a href="#Audio" class="headerlink" title="Audio"></a>Audio</h1><p>通过打开谷歌浏览器的dev tools -&gt; Settings -&gt; Elements -&gt; Show user agent shadow DOM, 你可以看到其实Audio标签也是由常用的 input标签和div等标签合成的。</p><p><img src="http://p3alsaatj.bkt.clouddn.com/20180208094451_tBBQUM_Screenshot.jpeg" alt=""></p><h1 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h1><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> &lt;<span class="selector-tag">audio</span> src=<span class="string">"http://65.ierge.cn/12/186/372266.mp3"</span>&gt;</span><br><span class="line">Your browser does not support the <span class="selector-tag">audio</span> element.</span><br><span class="line">&lt;/audio&gt;</span><br><span class="line"></span><br><span class="line">&lt;br&gt;</span><br><span class="line"></span><br><span class="line"><span class="number">2</span> &lt;<span class="selector-tag">audio</span> src=<span class="string">"http://65.ierge.cn/12/186/372266.mp3"</span> controls=<span class="string">"controls"</span>&gt;</span><br><span class="line">Your browser does not support the <span class="selector-tag">audio</span> element.</span><br><span class="line">&lt;/audio&gt;</span><br><span class="line"></span><br><span class="line">&lt;br&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// controlsList属性目前只支持 chrome 58+</span></span><br><span class="line"><span class="number">3</span> &lt;<span class="selector-tag">audio</span> src=<span class="string">"http://65.ierge.cn/12/186/372266.mp3"</span> controls=<span class="string">"controls"</span> controlsList=<span class="string">"nodownload"</span>&gt; </span><br><span class="line">Your browser does not support the <span class="selector-tag">audio</span> element.</span><br><span class="line">&lt;/audio&gt;</span><br><span class="line"></span><br><span class="line">&lt;br&gt;</span><br><span class="line"></span><br><span class="line"><span class="number">4</span> &lt;<span class="selector-tag">audio</span> controls=<span class="string">"controls"</span>&gt;</span><br><span class="line">&lt;source src=<span class="string">"http://65.ierge.cn/12/186/372266.mp3"</span> type=<span class="string">'audio/mp3'</span> /&gt;</span><br><span class="line">&lt;/audio&gt;</span><br></pre></td></tr></table></figure><p>你可以看出他们在Chrome里表现的差异</p><p><img src="http://p3alsaatj.bkt.clouddn.com/20180208094513_MO2e9z_Screenshot.jpeg" alt=""></p><p>关于audio标签支持的音频类型，可以参考<a href="https://en.wikipedia.org/wiki/HTML5_Audio#Supported_audio_coding_formats" target="_blank" rel="noopener">Audio#Supported_audio_coding_formats</a></p><p><img src="http://p3alsaatj.bkt.clouddn.com/20180208094523_k82xlG_Screenshot.jpeg" alt=""></p><h1 id="常用属性"><a href="#常用属性" class="headerlink" title="常用属性"></a>常用属性</h1><ul><li>autoplay: 音频流文件就绪后是否自动播放</li><li><p>preload: “none” | “metadata” | “auto” | “” </p><ul><li>“none”: 无需预加载</li><li>“metadata”: 只需要加载元数据，例如音频时长，文件大小等。</li><li>“auto”: 自动优化下载整个流文件</li></ul></li><li><p>controls： “controls” | “” 是否需要显示控件</p></li><li>loop： “loop” or “” 是否循环播放</li><li>mediagroup： string 多个视频或者音频流是否合并</li><li>src： 音频地址</li></ul><h1 id="API-重点"><a href="#API-重点" class="headerlink" title="API(重点)"></a>API(重点)</h1><ul><li>load(): 加载资源</li><li>play(): 播放</li><li>pause(): 暂停</li><li>canPlayType()： 询问浏览器以确定是否可以播放给定的MIME类型</li><li>buffered()：指定文件的缓冲部分的开始和结束时间</li></ul><h1 id="常用事件：Media-Events-重点"><a href="#常用事件：Media-Events-重点" class="headerlink" title="常用事件：Media Events(重点)"></a>常用事件：Media Events(重点)</h1><table><thead><tr><th>事件名</th><th>何时触发</th></tr></thead><tbody><tr><td>loadstart</td><td>开始加载</td></tr><tr><td>progress</td><td>正在加载</td></tr><tr><td>suspend</td><td>用户代理有意无法获取媒体数据，无法获取整个文件</td></tr><tr><td>abort</td><td>主动终端下载资源并不是由于发生错误</td></tr><tr><td>error</td><td>获取资源时发生错误</td></tr><tr><td>play</td><td>开始播放</td></tr><tr><td>pause</td><td>播放暂停</td></tr><tr><td>loadedmetadata</td><td>刚获取完元数据</td></tr><tr><td>loadeddata</td><td>第一次渲染元数据</td></tr><tr><td>waiting</td><td>等待中</td></tr><tr><td>playing</td><td>正在播放</td></tr><tr><td>canplay</td><td>用户代理可以恢复播放媒体数据，但是估计如果现在开始播放，则媒体资源不能以当前播放速率直到其结束呈现，而不必停止进一步缓冲内容。</td></tr><tr><td>canplaythrough</td><td>用户代理估计，如果现在开始播放，则媒体资源可以以当前播放速率一直呈现到其结束，而不必停止进一步的缓冲。</td></tr><tr><td>timeupdate</td><td>当前播放位置作为正常播放的一部分而改变，或者以特别有趣的方式，例如不连续地改变。</td></tr><tr><td>ended</td><td>播放结束</td></tr><tr><td>ratechange</td><td>媒体播放速度改变</td></tr><tr><td>durationchange</td><td>媒体时长改变</td></tr><tr><td>volumechange</td><td>媒体声音大小改变</td></tr></tbody></table><h1 id="Audio-DOM-属性-重点"><a href="#Audio-DOM-属性-重点" class="headerlink" title="Audio DOM 属性(重点)"></a>Audio DOM 属性(重点)</h1><h2 id="只读属性"><a href="#只读属性" class="headerlink" title="只读属性"></a>只读属性</h2><ul><li><code>duration</code>： 媒体时长，数值， 单位s</li><li><code>ended</code>: 是否完成播放，布尔值</li><li><code>paused</code>: 是否播放暂停，布尔值</li></ul><h2 id="其他可读写属性-重点"><a href="#其他可读写属性-重点" class="headerlink" title="其他可读写属性(重点)"></a>其他可读写属性(重点)</h2><ul><li><code>playbackRate</code>： 播放速度，大多数浏览器支持0.5-4， 1表示正常速度，设置该属性可以修改播放速度</li><li><code>volume</code>：0.0-1.0之间，设置该属性可以修改声音大小</li><li><code>muted</code>: 是否静音， 设置该属性可以静音</li><li><code>currentTime</code>：指定播放位置的秒数</li></ul><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 你可以使用元素的属性seekable来决定媒体目前能查找的范围。它返回一个你可以查找的TimeRanges 时间对象。</span></span><br><span class="line"><span class="keyword">var</span> mediaElement = document.getElementById(<span class="string">'mediaElementID'</span>);</span><br><span class="line">mediaElement.seekable.start();  <span class="comment">// 返回开始时间 (in seconds)</span></span><br><span class="line">mediaElement.seekable.<span class="keyword">end</span>();    <span class="comment">// 返回结束时间 (in seconds)</span></span><br><span class="line">mediaElement.currentTime = <span class="number">122</span>; <span class="comment">// 设定在 122 seconds</span></span><br><span class="line">mediaElement.played.<span class="keyword">end</span>();      <span class="comment">// 返回浏览器播放的秒数</span></span><br></pre></td></tr></table></figure><p>以下方法可以使音频以2倍速度播放。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">id</span>=<span class="string">"wdd"</span> <span class="attr">src</span>=<span class="string">"http://65.ierge.cn/12/186/372266.mp3"</span> <span class="attr">controls</span>=<span class="string">"controls"</span>&gt;</span></span><br><span class="line">Your browser does not support the audio element.</span><br><span class="line"><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> myAudio = <span class="built_in">document</span>.getElementById(<span class="string">'wdd'</span>);</span></span><br><span class="line"><span class="undefined">    myAudio.playbackRate = 2;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h1 id="常见问题及解决方法"><a href="#常见问题及解决方法" class="headerlink" title="常见问题及解决方法"></a>常见问题及解决方法</h1><ul><li><code>录音无法拖动，播放一端就自动停止</code>： <a href="https://wenjs.me/p/about-mp3progress-on-audio" target="_blank" rel="noopener">https://wenjs.me/p/about-mp3progress-on-audio</a></li><li><code>如何隐藏Audio的下载按钮</code>：<a href="https://segmentfault.com/a/1190000009737051" target="_blank" rel="noopener">https://segmentfault.com/a/1190000009737051</a></li><li><code>想找一个简单的录音播放插件</code>： <a href="https://github.com/kolber/audiojs" target="_blank" rel="noopener">https://github.com/kolber/audiojs</a></li></ul><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul><li><a href="https://www.w3.org/TR/html5/embedded-content-0.html#the-audio-element" target="_blank" rel="noopener">W3C: the-audio-element</a></li><li><a href="https://en.wikipedia.org/wiki/HTML5_Audio#Supported_audio_coding_formats" target="_blank" rel="noopener">wikipedia: HTML5 Audio</a></li><li><a href="https://www.w3.org/wiki/HTML/Elements/audio#Media_Events" target="_blank" rel="noopener">W3C: HTML/Elements/audio</a></li><li><a href="http://html5doctor.com/native-audio-in-the-browser/" target="_blank" rel="noopener">Native Audio in the browser</a></li><li><a href="https://developer.mozilla.org/en-US/Apps/Fundamentals/Audio_and_video_delivery/WebAudio_playbackRate_explained" target="_blank" rel="noopener">HTMLMediaElement.playbackRate</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/HTML/Using_HTML5_audio_and_video" target="_blank" rel="noopener">使用 HTML5 音频和视频</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;我觉得DOM就好像是元素周期表里的元素，JS就好像是实验器材，通过各种化学反应，产生各种魔术。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://p3alsaatj.bkt.clouddn.com/201802080944
      
    
    </summary>
    
    
      <category term="audio" scheme="https://wdd.js.org/tags/audio/"/>
    
  </entry>
  
  <entry>
    <title>github上的那些前端神器</title>
    <link href="https://wdd.js.org/github-powerful-tools-recommend.html"/>
    <id>https://wdd.js.org/github-powerful-tools-recommend.html</id>
    <published>2018-02-08T01:38:32.000Z</published>
    <updated>2018-02-08T01:41:41.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="serve-在任意目录开启静态文件服务器"><a href="#serve-在任意目录开启静态文件服务器" class="headerlink" title="serve: 在任意目录开启静态文件服务器"></a>serve: 在任意目录开启静态文件服务器</h1><ul><li><a href="https://github.com/zeit/serve" target="_blank" rel="noopener">https://github.com/zeit/serve</a></li></ul><p><img src="http://p3alsaatj.bkt.clouddn.com/20180208093930_pRnErF_Screenshot.jpeg" alt=""></p><h1 id="lambda-view：优雅的看js源码"><a href="#lambda-view：优雅的看js源码" class="headerlink" title="lambda-view：优雅的看js源码"></a>lambda-view：优雅的看js源码</h1><ul><li><a href="https://github.com/Jianru-Lin/lambda-view" target="_blank" rel="noopener">https://github.com/Jianru-Lin/lambda-view</a></li></ul><p><img src="http://p3alsaatj.bkt.clouddn.com/20180208093942_n2HZ5Z_Screenshot.jpeg" alt=""></p><h1 id="ConEmu：windows命令行从未如此迷人"><a href="#ConEmu：windows命令行从未如此迷人" class="headerlink" title="ConEmu：windows命令行从未如此迷人"></a>ConEmu：windows命令行从未如此迷人</h1><ul><li><a href="https://github.com/Maximus5/ConEmu" target="_blank" rel="noopener">https://github.com/Maximus5/ConEmu</a></li></ul><p><img src="http://p3alsaatj.bkt.clouddn.com/20180208093958_rE9cvM_Screenshot.jpeg" alt=""></p><h1 id="Wox：天下武功，唯快不破"><a href="#Wox：天下武功，唯快不破" class="headerlink" title="Wox：天下武功，唯快不破"></a>Wox：天下武功，唯快不破</h1><ul><li><a href="https://github.com/Wox-launcher/Wox" target="_blank" rel="noopener">https://github.com/Wox-launcher/Wox</a></li></ul><p><img src="http://p3alsaatj.bkt.clouddn.com/20180208094014_SJzmnb_Screenshot.jpeg" alt=""></p><h1 id="gow：谁说windows不能用linux命令"><a href="#gow：谁说windows不能用linux命令" class="headerlink" title="gow：谁说windows不能用linux命令"></a>gow：谁说windows不能用linux命令</h1><ul><li><a href="https://github.com/bmatzelle/gow" target="_blank" rel="noopener">https://github.com/bmatzelle/gow</a></li></ul><p><img src="http://p3alsaatj.bkt.clouddn.com/20180208094028_KBQKT0_Screenshot.jpeg" alt=""></p><h1 id="vimium：像用vim一样用chrome浏览器"><a href="#vimium：像用vim一样用chrome浏览器" class="headerlink" title="vimium：像用vim一样用chrome浏览器"></a>vimium：像用vim一样用chrome浏览器</h1><ul><li><a href="https://github.com/philc/vimium" target="_blank" rel="noopener">https://github.com/philc/vimium</a></li></ul><p><img src="http://p3alsaatj.bkt.clouddn.com/20180208094044_xVRMWm_Screenshot.jpeg" alt=""></p><h1 id="localtunnel：将内网地址转化成公网地址"><a href="#localtunnel：将内网地址转化成公网地址" class="headerlink" title="localtunnel：将内网地址转化成公网地址"></a>localtunnel：将内网地址转化成公网地址</h1><ul><li><a href="https://github.com/localtunnel/localtunnel" target="_blank" rel="noopener">https://github.com/localtunnel/localtunnel</a></li></ul><p><img src="http://p3alsaatj.bkt.clouddn.com/20180208094058_E8pr8Z_Screenshot.jpeg" alt=""></p><h1 id="8-Browsersync：省时省力的浏览器同步测试工具"><a href="#8-Browsersync：省时省力的浏览器同步测试工具" class="headerlink" title="8 Browsersync：省时省力的浏览器同步测试工具"></a>8 Browsersync：省时省力的浏览器同步测试工具</h1><p>地址：<a href="http://www.browsersync.cn/" target="_blank" rel="noopener">http://www.browsersync.cn/</a></p><p><img src="http://p3alsaatj.bkt.clouddn.com/20180208094111_5udBpr_Screenshot.jpeg" alt=""></p><h1 id="9-PM2-集负载均衡、热更新、监控等功能于一身的Node-js应用程序的生产流程管理器"><a href="#9-PM2-集负载均衡、热更新、监控等功能于一身的Node-js应用程序的生产流程管理器" class="headerlink" title="9 PM2: 集负载均衡、热更新、监控等功能于一身的Node.js应用程序的生产流程管理器"></a>9 PM2: 集负载均衡、热更新、监控等功能于一身的Node.js应用程序的生产流程管理器</h1><p>地址：<a href="https://github.com/Unitech/pm2" target="_blank" rel="noopener">https://github.com/Unitech/pm2</a></p><p><img src="http://p3alsaatj.bkt.clouddn.com/20180208094127_Wj5s2J_Screenshot.jpeg" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;serve-在任意目录开启静态文件服务器&quot;&gt;&lt;a href=&quot;#serve-在任意目录开启静态文件服务器&quot; class=&quot;headerlink&quot; title=&quot;serve: 在任意目录开启静态文件服务器&quot;&gt;&lt;/a&gt;serve: 在任意目录开启静态文件服务器&lt;/h1
      
    
    </summary>
    
    
      <category term="github" scheme="https://wdd.js.org/tags/github/"/>
    
      <category term="工具" scheme="https://wdd.js.org/tags/%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>gitbook 前端好书推荐</title>
    <link href="https://wdd.js.org/gitbook-good-book-recommend.html"/>
    <id>https://wdd.js.org/gitbook-good-book-recommend.html</id>
    <published>2018-02-08T01:35:03.000Z</published>
    <updated>2018-02-08T01:37:08.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Front-End-Developer-Handbook-2017"><a href="#Front-End-Developer-Handbook-2017" class="headerlink" title="Front-End Developer Handbook 2017"></a>Front-End Developer Handbook 2017</h1><ul><li>地址：<a href="https://frontendmasters.com/books/front-end-handbook/2017/" target="_blank" rel="noopener">https://frontendmasters.com/books/front-end-handbook/2017/</a></li></ul><p>这是任何人都可以用来了解前端开发实践的指南。它大致概述并讨论了前端工程的实践：如何学习它，以及在2017年实践时使用什么工具。</p><p>这是专门为潜在的和目前实践的前端开发人员提供专业资源，以配备学习材料和开发工具。其次，管理者，首席技术官，导师和猎头人士可以使用它来了解前端开发的实践。</p><p>手册的内容有利于网络技术（HTML，CSS，DOM和JavaScript）以及直接构建在这些开放技术之上的解决方案。本书中引用和讨论的材料是课堂上最好的或目前提出的问题。</p><p>该书不应被视为对前端开发人员可用的所有资源的全面概述。这本书的价值被简单，集中和及时地组织起来，仅仅是足够的绝对信息，以免任何人在任何一个特定的主题上压倒一切。</p><p>目的是每年发布一次内容更新。</p><p>手册分为三部分。</p><p>第一部分。前端实践</p><p>第一部分广泛描述了前端工程的实践。</p><p>第二部分：学习前端发展</p><p>第二部分指出了自主导向和直接的资源，用于学习成为前端开发人员。</p><p>第三部分：前端开发工具</p><p>第三部分简要解释和识别交易工具。</p><p><img src="http://p3alsaatj.bkt.clouddn.com/20180208093612_dpum1B_Screenshot.jpeg" alt=""></p><h1 id="JS函数式编程指南"><a href="#JS函数式编程指南" class="headerlink" title="JS函数式编程指南"></a>JS函数式编程指南</h1><p>英文版地址：<br>中文版地址：<a href="https://llh911001.gitbooks.io/mostly-adequate-guide-chinese/content/" target="_blank" rel="noopener">https://llh911001.gitbooks.io/mostly-adequate-guide-chinese/content/</a></p><blockquote><p>这本书的主题是函数范式（functional paradigm），我们将使用 JavaScript 这个世界上最流行的函数式编程语言来讲述这一主题。有人可能会觉得选择 JavaScript 并不明智，因为当前的主流观点认为它是一门命令式（imperative）的语言，并不适合用来讲函数式。但我认为，这是学习函数式编程的最好方式，因为：</p></blockquote><p><code>你很有可能在日常工作中使用它</code></p><p>这让你有机会在实际的编程过程中学以致用，而不是在空闲时间用一门深奥的函数式编程语言做一些玩具性质的项目。</p><p><code>你不必从头学起就能开始编写程序</code></p><p>在纯函数式编程语言中，你必须使用 monad 才能打印变量或者读取 DOM 节点。JavaScript 则简单得多，可以作弊走捷径，因为毕竟我们的目的是学写纯函数式代码。JavaScript 也更容易入门，因为它是一门混合范式的语言，你随时可以在感觉吃力的时候回退到原有的编程习惯上去。</p><p><code>这门语言完全有能力书写高级的函数式代码</code></p><p>只需借助一到两个微型类库，JavaScript 就能模拟 Scala 或 Haskell 这类语言的全部特性。虽然面向对象编程（Object-oriented programing）主导着业界，但很明显这种范式在 JavaScript 里非常笨拙，用起来就像在高速公路上露营或者穿着橡胶套鞋跳踢踏舞一样。我们不得不到处使用 bind 以免 this 不知不觉地变了，语言里没有类可以用（目前还没有），我们还发明了各种变通方法来应对忘记调用 new 关键字后的怪异行为，私有成员只能通过闭包（closure）才能实现，等等。对大多数人来说，函数式编程看起来更加自然。+</p><p>以上说明，强类型的函数式语言毫无疑问将会成为本书所示范式的最佳试验场。JavaScript 是我们学习这种范式的一种手段，将它应用于什么地方则完全取决于你自己。幸运的是，所有的接口都是数学的，因而也是普适的。最终你会发现你习惯了 swiftz、scalaz、haskell 和 purescript，以及其他各种数学偏向的语言。</p><p><img src="http://p3alsaatj.bkt.clouddn.com/20180208093626_sxuAr3_Screenshot.jpeg" alt=""></p><h1 id="前端开发笔记本"><a href="#前端开发笔记本" class="headerlink" title="前端开发笔记本"></a>前端开发笔记本</h1><p>地址：<a href="http://chanshuyi.github.io/frontend_notebook/" target="_blank" rel="noopener">http://chanshuyi.github.io/frontend_notebook/</a></p><p>前端开发笔记本涵括了大部分前端开发所需的知识点，主要包括5大部分：《页面制作》、《JavaScript程序设计》、《DOM编程》、《页面架构》、《前端产品架构》。</p><p><img src="http://p3alsaatj.bkt.clouddn.com/20180208093640_prGtzY_Screenshot.jpeg" alt=""><br><img src="http://p3alsaatj.bkt.clouddn.com/20180208093648_jJXSIc_Screenshot.jpeg" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Front-End-Developer-Handbook-2017&quot;&gt;&lt;a href=&quot;#Front-End-Developer-Handbook-2017&quot; class=&quot;headerlink&quot; title=&quot;Front-End Developer Handbo
      
    
    </summary>
    
    
      <category term="books" scheme="https://wdd.js.org/tags/books/"/>
    
      <category term="gitbook" scheme="https://wdd.js.org/tags/gitbook/"/>
    
  </entry>
  
  <entry>
    <title>Nodejs Express dockerfile最佳实践</title>
    <link href="https://wdd.js.org/nodejs-best-dockerfile.html"/>
    <id>https://wdd.js.org/nodejs-best-dockerfile.html</id>
    <published>2018-02-08T01:28:04.000Z</published>
    <updated>2018-02-08T01:30:29.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="少啰嗦，先看代码"><a href="#少啰嗦，先看代码" class="headerlink" title="少啰嗦，先看代码"></a>少啰嗦，先看代码</h1><h2 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"xxx"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"0.0.0"</span>,</span><br><span class="line">  <span class="attr">"private"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"start"</span>: <span class="string">"node ./bin/www"</span>,</span><br><span class="line">    <span class="attr">"forever"</span>: <span class="string">"node_modules/forever/bin/forever bin/www"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"async"</span>: <span class="string">"0.9.0"</span>,</span><br><span class="line">    <span class="attr">"body-parser"</span>: <span class="string">"1.13.2"</span>,</span><br><span class="line">    <span class="attr">"compression"</span>: <span class="string">"1.6.2"</span>,</span><br><span class="line">    <span class="attr">"config"</span>: <span class="string">"1.12.0"</span>,</span><br><span class="line">    <span class="attr">"connect-multiparty"</span>: <span class="string">"2.0.0"</span>,</span><br><span class="line">    <span class="attr">"cookie-parser"</span>: <span class="string">"1.3.5"</span>,</span><br><span class="line">    <span class="attr">"debug"</span>: <span class="string">"2.2.0"</span>,</span><br><span class="line">    <span class="attr">"ejs"</span>: <span class="string">"2.3.3"</span>,</span><br><span class="line">    <span class="attr">"express"</span>: <span class="string">"4.13.1"</span>,</span><br><span class="line">    <span class="attr">"forever"</span>: <span class="string">"0.15.3"</span>,</span><br><span class="line">    <span class="attr">"http-proxy-middleware"</span>: <span class="string">"0.17.3"</span>,</span><br><span class="line">    <span class="attr">"log4js"</span>: <span class="string">"0.6.24"</span>,</span><br><span class="line">    <span class="attr">"serve-favicon"</span>: <span class="string">"2.3.0"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="dockerfile"><a href="#dockerfile" class="headerlink" title="dockerfile"></a>dockerfile</h2><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> node:<span class="number">9.2</span>.<span class="number">1</span>-alpine</span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> apk update &amp;&amp; apk add bash tzdata \</span></span><br><span class="line"><span class="bash">    &amp;&amp; cp -r -f /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash">WORKDIR /app</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash">COPY package.json yarn.lock /app/</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash">RUN yarn install --production &amp;&amp; yarn cache clean</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash">COPY . /app</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash">EXPOSE 8088</span></span><br><span class="line"><span class="bash"></span></span><br><span class="line"><span class="bash">CMD yarn run server</span></span><br></pre></td></tr></table></figure><h1 id="分析原理"><a href="#分析原理" class="headerlink" title="分析原理"></a>分析原理</h1><ul><li>使用alpine的nodejs镜像，显著缩小nodejs镜像大小</li><li>node:9.2.1-alpine自带yarn 和 npm</li><li>copy package到run npm i到copy . /app, 这样的顺序可以充分使用镜像缓存</li></ul><p><code>修改过后，对比之前通过jenkins打包时间从10分钟缩短到7.4秒</code></p><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul><li><a href="https://rock-it.pl/how-to-write-excellent-dockerfiles/" target="_blank" rel="noopener">How to write excellent Dockerfiles</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;少啰嗦，先看代码&quot;&gt;&lt;a href=&quot;#少啰嗦，先看代码&quot; class=&quot;headerlink&quot; title=&quot;少啰嗦，先看代码&quot;&gt;&lt;/a&gt;少啰嗦，先看代码&lt;/h1&gt;&lt;h2 id=&quot;package-json&quot;&gt;&lt;a href=&quot;#package-json&quot; cla
      
    
    </summary>
    
    
      <category term="nodejs" scheme="https://wdd.js.org/tags/nodejs/"/>
    
      <category term="docker" scheme="https://wdd.js.org/tags/docker/"/>
    
      <category term="dockerfile" scheme="https://wdd.js.org/tags/dockerfile/"/>
    
  </entry>
  
  <entry>
    <title>表单验证工具 jquery-validation Vs Parsley</title>
    <link href="https://wdd.js.org/jquery-validation-vs-parsley.html"/>
    <id>https://wdd.js.org/jquery-validation-vs-parsley.html</id>
    <published>2018-02-08T01:26:00.000Z</published>
    <updated>2018-02-08T01:26:55.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="基本对比"><a href="#基本对比" class="headerlink" title="基本对比"></a>基本对比</h1><table><thead><tr><th>名称</th><th>gitbub地址</th><th>stars</th><th>文档地址</th></tr></thead><tbody><tr><td>jquery-validation</td><td><a href="https://github.com/jquery-validation/jquery-validation" target="_blank" rel="noopener">这里</a></td><td>7859(截止7/21)</td><td><a href="http://www.runoob.com/jquery/jquery-plugin-validate.html" target="_blank" rel="noopener">这里</a></td></tr><tr><td>Parsley.js</td><td><a href="https://github.com/guillaumepotier/Parsley.js" target="_blank" rel="noopener">这里</a></td><td>7979(截止7/21)</td><td><a href="http://parsleyjs.org/" target="_blank" rel="noopener">这里</a></td></tr></tbody></table><h1 id="强烈推荐Parsley"><a href="#强烈推荐Parsley" class="headerlink" title="强烈推荐Parsley"></a>强烈推荐Parsley</h1><p>这两个表格验证插件我都用过，最早用的是jqueryValidataion, 现在用Parsley。<br>这两个插件都<code>依赖jQuery</code>。但是如果说那个跟好用的话，真心推荐Parsley。Parsley<code>号称不用写一行代码就能验证表单</code>。另外从star的数量上也可以看出来Parsley更流行。而且Parsley支持在html中就将错误信息定义在里面。</p><p>Parsley优势</p><ul><li><code>直观的DOM API</code>: 像没有其他表单验证库一样，只需用HTML格式写入您的要求，Parsley将会做剩下的所有事情！不需要编写一行代码来验证表单。</li><li><code>动态表单验证</code>： parsley现在更聪明，它会自动检测您的表单的修改并相应地调整其验证。简单地添加，删除或编辑字段，parsley将会自动验证。</li><li>还有好多… </li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;form&gt;</span><br><span class="line"> &lt;input type=<span class="string">"text"</span> required=<span class="string">""</span> </span><br><span class="line"> data-parsley-checkphonenum </span><br><span class="line"> data-parsley-checkphonenum-message=<span class="string">"手机号码格式有误"</span> </span><br><span class="line"> name=<span class="string">"phoneNum"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"form-control"</span> </span><br><span class="line"> placeholder=<span class="string">"请填写手机号"</span>&gt;</span><br><span class="line">&lt;<span class="regexp">/form&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/验证表单</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ 注意 checkphonenum是我自定义的验证规则，添加到parsley里面的</span></span><br><span class="line"><span class="regexp">$('from').parsley().validate();</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;基本对比&quot;&gt;&lt;a href=&quot;#基本对比&quot; class=&quot;headerlink&quot; title=&quot;基本对比&quot;&gt;&lt;/a&gt;基本对比&lt;/h1&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;名称&lt;/th&gt;
&lt;th&gt;gitbub地址&lt;/th&gt;
&lt;th&gt;stars&lt;/th&gt;
      
    
    </summary>
    
    
      <category term="jQuery" scheme="https://wdd.js.org/tags/jQuery/"/>
    
      <category term="Parsley" scheme="https://wdd.js.org/tags/Parsley/"/>
    
  </entry>
  
  <entry>
    <title>前端小白的python实战 报纸分词排序</title>
    <link href="https://wdd.js.org/python-paper-word-split.html"/>
    <id>https://wdd.js.org/python-paper-word-split.html</id>
    <published>2018-02-08T01:23:37.000Z</published>
    <updated>2018-02-08T01:32:36.000Z</updated>
    
    <content type="html"><![CDATA[<p>先看效果：</p><p><img src="http://p3alsaatj.bkt.clouddn.com/20180208092429_56loaY_Screenshot.jpeg" alt=""></p><h1 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h1><ul><li>win7 64位</li><li>python 3.5</li></ul><h1 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h1><p>抓取一篇报纸，并提取出关键字，然后按照出现次数排序，用echarts在页面上显示出来。</p><h1 id="工具选择"><a href="#工具选择" class="headerlink" title="工具选择"></a>工具选择</h1><p>因为之前对nodejs的相关工具比较熟悉，在用python的时候，也想有类似的工具。所以就做了一个对比的表格。</p><table><thead><tr><th>功能</th><th>nodejs版</th><th>python版</th></tr></thead><tbody><tr><td>http工具</td><td><a href="https://github.com/request/request" target="_blank" rel="noopener">request</a></td><td><a href="https://github.com/requests/requests" target="_blank" rel="noopener">requests</a></td></tr><tr><td>中文分词工具</td><td><a href="https://github.com/leizongmin/node-segment" target="_blank" rel="noopener">node-segment</a>, <a href="https://github.com/yanyiwu/nodejieba" target="_blank" rel="noopener">nodejieba</a>(一直没有安装成功过)</td><td><a href="https://github.com/fxsjy/jieba" target="_blank" rel="noopener">jieba</a>(分词准确度比node-segment好)</td></tr><tr><td>DOM解析工具</td><td><a href="https://github.com/cheeriojs/cheerio" target="_blank" rel="noopener">cheeio</a></td><td><a href="https://github.com/gawel/pyquery" target="_blank" rel="noopener">pyquery</a>(这两个工具都是有类似jQuery那种选择DOM的接口，很方便)</td></tr><tr><td>函数编程工具</td><td><a href="https://github.com/jashkenas/underscore" target="_blank" rel="noopener">underscore.js</a></td><td><a href="https://github.com/serkanyersen/underscore.py" target="_blank" rel="noopener">underscore.py</a>(underscore来处理集合比较方便)</td></tr><tr><td>服务器</td><td><a href="https://github.com/expressjs/express" target="_blank" rel="noopener">express</a></td><td><a href="https://github.com/pallets/flask" target="_blank" rel="noopener">flask</a></td></tr></tbody></table><h1 id="开始的噩梦：中文乱码"><a href="#开始的噩梦：中文乱码" class="headerlink" title="开始的噩梦：中文乱码"></a>开始的噩梦：中文乱码</h1><p>感觉每个学python的人都遇到过中文乱码的问题。我也不例外。</p><p>首先要抓取网页，但是网页在控制台输出的时候，中文总是乱码。搞了好久，搞得我差点要放弃python。最终找到解决方法。<a href="http://blog.csdn.net/jim7424994/article/details/22675759" target="_blank" rel="noopener"> 解决python3 UnicodeEncodeError: ‘gbk’ codec can’t encode character ‘\xXX’ in position XX</a></p><p>过程很艰辛，但是从中也学到很多知识。</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import io</span><br><span class="line">import sys</span><br><span class="line">sys<span class="selector-class">.stdout</span> = io.TextIOWrapper(sys<span class="selector-class">.stoodout</span><span class="selector-class">.buffer</span>,encoding=<span class="string">'gb18030'</span>)</span><br></pre></td></tr></table></figure><h1 id="函数式编程：-顺享丝滑"><a href="#函数式编程：-顺享丝滑" class="headerlink" title="函数式编程： 顺享丝滑"></a>函数式编程： 顺享丝滑</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#filename word_rank.py</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> io</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> jieba <span class="keyword">as</span> _jieba <span class="comment"># 中文分词比较优秀的一个库</span></span><br><span class="line"><span class="keyword">from</span> pyquery <span class="keyword">import</span> PyQuery <span class="keyword">as</span> pq <span class="comment">#类似于jquery、cheerio的库</span></span><br><span class="line"><span class="keyword">from</span> underscore <span class="keyword">import</span> _ <span class="comment"># underscore.js python版本</span></span><br><span class="line">sys.stdout = io.TextIOWrapper(sys.stdout.buffer,encoding=<span class="string">'gb18030'</span>) <span class="comment"># 解决控制台中文乱码</span></span><br><span class="line"></span><br><span class="line">USELESSWORDS = [<span class="string">'的'</span>,<span class="string">'要'</span>,<span class="string">'了'</span>,<span class="string">'在'</span>,<span class="string">'和'</span>,<span class="string">'是'</span>,<span class="string">'把'</span>,<span class="string">'向'</span>,<span class="string">'上'</span>,<span class="string">'为'</span>,<span class="string">'等'</span>,<span class="string">'个'</span>] <span class="comment"># 标记一些无用的单词</span></span><br><span class="line">TOP = <span class="number">30</span> <span class="comment"># 只要前面的30个就可以了</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_remove_punctuation</span><span class="params">(line)</span>:</span> <span class="comment"># 移除非中文字符</span></span><br><span class="line">    <span class="comment"># rule = re.compile("[^a-zA-Z0-9\u4e00-\u9fa5]")</span></span><br><span class="line">    rule = re.compile(<span class="string">"[^\u4e00-\u9fa5]"</span>)</span><br><span class="line">    line = rule.sub(<span class="string">''</span>,line)</span><br><span class="line">    <span class="keyword">return</span> line</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_calculate_frequency</span><span class="params">(words)</span>:</span> <span class="comment"># 计算分词出现的次数</span></span><br><span class="line">    result = &#123;&#125;</span><br><span class="line">    res = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> word <span class="keyword">in</span> words:</span><br><span class="line">        <span class="keyword">if</span> result.get(word, <span class="number">-1</span>) == <span class="number">-1</span>:</span><br><span class="line">            result[word] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            result[word] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> word <span class="keyword">in</span> result:</span><br><span class="line">        <span class="keyword">if</span> _.contains(USELESSWORDS, word): <span class="comment"># 排除无用的分词</span></span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">        res.append(&#123;</span><br><span class="line">                <span class="string">'word'</span>: word,</span><br><span class="line">                <span class="string">'fre'</span>: result[word]</span><br><span class="line">            &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> _.sortBy(res, <span class="string">'fre'</span>)[::<span class="number">-1</span>][:TOP] <span class="comment"># 降序排列</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_get_page</span><span class="params">(url)</span>:</span> <span class="comment"># 获取页面</span></span><br><span class="line">    <span class="keyword">return</span> requests.get(url)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_get_text</span><span class="params">(req)</span>:</span> <span class="comment"># 获取文章部分</span></span><br><span class="line">    <span class="keyword">return</span> pq(req.content)(<span class="string">'#ozoom'</span>).text()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">(url)</span>:</span> <span class="comment"># 入口函数，函数组合</span></span><br><span class="line">    <span class="keyword">return</span> _.compose(</span><br><span class="line">        _get_page,</span><br><span class="line">        _get_text,</span><br><span class="line">        _remove_punctuation,</span><br><span class="line">        _jieba.cut,</span><br><span class="line">        _calculate_frequency</span><br><span class="line">        )(url)</span><br></pre></td></tr></table></figure><h1 id="python服务端：Flask浅入浅出"><a href="#python服务端：Flask浅入浅出" class="headerlink" title="python服务端：Flask浅入浅出"></a>python服务端：Flask浅入浅出</h1><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import word_rank</span><br><span class="line">from flask import Flask, request, jsonify, render_template</span><br><span class="line">app = Flask(__name_<span class="number">_</span>)</span><br><span class="line">app.debug = True</span><br><span class="line"></span><br><span class="line">@app.route(<span class="string">'/rank'</span>) <span class="comment"># 从query参数里获取pageUrl，并给分词排序</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getRank</span><span class="params">()</span></span><span class="symbol">:</span></span><br><span class="line">    pageUrl = request.args.get(<span class="string">'pageUrl'</span>)</span><br><span class="line">    app.logger.debug(pageUrl)</span><br><span class="line"></span><br><span class="line">    rank = word_rank.main(pageUrl)</span><br><span class="line">    app.logger.debug(rank)</span><br><span class="line">    <span class="keyword">return</span> jsonify(rank)</span><br><span class="line"></span><br><span class="line">@app.route(<span class="string">'/'</span>) <span class="comment"># 主页面</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getHome</span><span class="params">()</span></span><span class="symbol">:</span></span><br><span class="line">    <span class="keyword">return</span> render_template(<span class="string">'home.html'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name_<span class="number">_</span> == <span class="string">'__main__'</span><span class="symbol">:</span></span><br><span class="line">    app.run()</span><br></pre></td></tr></table></figure><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>据说有个定律：<code>凡是能用JavaScript写出来的，最终都会用JavaScript写出来</code>。 我是很希望这样啦。但是不得不承认，python上有很多非常优秀的库。<br>这些库在npm上并没有找到合适的替代品。</p><p>所以，我就想: <code>如何能用nodejs直接调用python的第三方库</code></p><p>目前的解决方案有两种，第一，只用nodejs的child_processes。这个方案我试过，但是不太好用。</p><p>第二，npm里面有一些包，可以直接调用python的库。例如：<a href="https://github.com/chrisdickinson/node-python" target="_blank" rel="noopener">node-python</a>, <a href="https://github.com/monkeycz/python.js" target="_blank" rel="noopener">python.js</a>, 但是这些包我在win7上安装的时候总是报错。而且解决方法也蛮麻烦的。索性我就直接用python了。</p><p>最后附上项目地址：<a href="https://github.com/wangduanduan/read-newspaper" target="_blank" rel="noopener">https://github.com/wangduanduan/read-newspaper</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;先看效果：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://p3alsaatj.bkt.clouddn.com/20180208092429_56loaY_Screenshot.jpeg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;环境&quot;&gt;&lt;a href=&quot;#环境&quot; clas
      
    
    </summary>
    
    
      <category term="Python" scheme="https://wdd.js.org/tags/Python/"/>
    
      <category term="分词" scheme="https://wdd.js.org/tags/%E5%88%86%E8%AF%8D/"/>
    
  </entry>
  
  <entry>
    <title>【笔记】 程序员修炼之道 从小工到专家</title>
    <link href="https://wdd.js.org/how-to-be-a-better-programer.html"/>
    <id>https://wdd.js.org/how-to-be-a-better-programer.html</id>
    <published>2018-02-08T01:21:11.000Z</published>
    <updated>2018-02-08T01:22:00.000Z</updated>
    
    <content type="html"><![CDATA[<ul><li>1 关心你的技艺</li><li>2 思考你的工作</li><li>3 <code>在所有的弱点中，最大的弱点就是害怕暴露弱点</code></li><li>4 提供各种选择，不要找各种蹩脚的借口</li><li>5 不要容忍破窗户</li><li>6 作变化的催化剂</li><li>7 记住大方向</li><li>8 让质量成为需求问题</li><li>9 知识也会贬值，定期为你的知识投资<ul><li>每年至少学习一种编程语言</li><li>每季度至少读一本技术书籍</li><li>也要阅读非技术书籍</li><li>上课</li><li>上网</li><li>玩玩UNIX</li><li>跟上潮流</li></ul></li><li>10 批判的分析你读到的和听到的</li><li>11 我相信，被打量要被忽略要好</li><li>12 你说什么和<code>你怎样说</code>同样重要</li><li>13 <code>不要重复你自己, 也不要重复别人</code></li><li>14 糟糕的代码才需要许多注释</li><li>15 让复用变得容易</li><li>16 消除无关事物之间的影响 (解耦性，正交性)</li><li>17 编码<ul><li>让你的代码保持解耦</li><li>避免使用全局数据</li><li>避免编写相似的函数</li></ul></li><li>18 <code>如果某个想法是你唯一的想法，再没有什么比这更危险的事情了</code></li><li>19 不存在最终决定</li><li>20 稍后就是永不</li><li>21 用曳光弹找到目标</li><li>22 语言的界限就是一个人世界的界限</li><li>23 靠近问题编程</li><li>24 估算，避免发生意外</li><li>25 用纯文本保存知识</li><li>26 利用命令<code>shells</code>的力量</li><li>27 用好一种编辑器，彻底了解它，确保你的编辑器能在所有平台上使用 (我的最爱是<code>sublime</code>)<ul><li>可配置</li><li>可扩展</li><li>可编辑</li><li>语法高亮</li><li>自动完成</li><li>自动缩进</li><li>跨平台</li><li>启动快</li><li>占用内存小</li><li>漂亮</li></ul></li><li>28 总是使用源码控制</li><li>29 要修正问题，而不是发出职责 (关于调试，bug)</li><li>30 不要恐慌 (我曾经差点因为上线的之前的重大问题产生辞职的想法)</li><li>31 不要假定，要证明</li><li>32 <code>你不可能写出完美的软件</code></li><li>33 如果它不可能发生，用断言确保它不会发生</li><li>34 将异常用于异常的问题</li><li>35 要有始有终</li><li>36 <code>使模块之间的耦合减至最小</code></li><li>37 <code>要配置，不要集成</code> (可配置)</li><li>38 将抽象放进代码，将细节放进元数据</li><li>39 分析工作流，以改善并发性</li><li>40 用服务进行设计</li><li>41 总是为并发进行设计</li><li>42 将视图与模型分离</li><li>43 小心那些替你编写大量代码的工具，除非你了解它在做什么</li><li>44 不要靠巧合编程</li><li>45 估算你算法的阶</li><li>46 早重构，常重构</li><li>47 为测试而设计</li><li>48 不要搜集需求，挖掘他们</li><li>49 与用户一起工作，以像用户一样思考</li><li>50 需求不是架构，需求不是设计，也不是用户界面，而是需求。</li><li>51 <code>抽象比细节活的更长久</code></li><li>52 <code>使用项目词汇表</code> (名不正则言不顺)</li><li>53 昂贵的工具不一定能制作出更好的设计</li><li>54 早测试，常测试，自动测试</li><li>55 要到通过全部测试，编码才算完成</li><li>56 把网收紧，一个bug只抓一次</li><li>57 温和的超出用户的期望</li><li>58 在你的作品上签名</li><li>59 建立自己的藏书库</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;1 关心你的技艺&lt;/li&gt;
&lt;li&gt;2 思考你的工作&lt;/li&gt;
&lt;li&gt;3 &lt;code&gt;在所有的弱点中，最大的弱点就是害怕暴露弱点&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;4 提供各种选择，不要找各种蹩脚的借口&lt;/li&gt;
&lt;li&gt;5 不要容忍破窗户&lt;/li&gt;
&lt;li&gt;6
      
    
    </summary>
    
    
      <category term="读书笔记" scheme="https://wdd.js.org/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>代码整洁之道 - 有意义的命名</title>
    <link href="https://wdd.js.org/clean-code-method.html"/>
    <id>https://wdd.js.org/clean-code-method.html</id>
    <published>2018-02-08T01:17:54.000Z</published>
    <updated>2018-02-08T01:19:56.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>在小朱元璋出生一个月后，父母为他取了一个名字（元时惯例）：朱重八，这个名字也可以叫做朱八八。我们这里再介绍一下，朱重八家族的名字，都很有特点。<br>朱重八高祖名字：朱百六；<br>朱重八曾祖名字：朱四九；<br>朱重八祖父名字：朱初一；<br>他的父亲我们介绍过了，叫朱五四。<br>取这样的名字不是因为朱家是搞数学的，而是因为在元朝，老百姓如果不能上学和当官就没有名字，只能以父母年龄相加或者出生的日期命名。（登记户口的人一定会眼花）–《明朝那些事儿》</p></blockquote><p>那么问题来了，朱四九和朱百六是什么关系？ 你可能马上懵逼了。所以说：<code>命名不仅仅是一种科学，更是一种艺术</code>。</p><h1 id="名副其实"><a href="#名副其实" class="headerlink" title="名副其实"></a>名副其实</h1><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> d; <span class="comment">// 分手的时间，以天计算</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> daysAfterBrokeUp; <span class="comment">// 分手以后，以天计算</span></span><br></pre></td></tr></table></figure><h1 id="避免误导"><a href="#避免误导" class="headerlink" title="避免误导"></a>避免误导</h1><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> nameList = <span class="string">'wdd'</span>; <span class="comment">// List一般暗指数据是数组，而不应该赋值给字符串</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> nameList = [<span class="string">'wdd'</span>,<span class="string">'ddw'</span>,<span class="string">'dwd'</span>]; <span class="comment">// </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> ill10o = <span class="number">10</span>; <span class="comment">//千万不要把i,1,l,0,o,O放在一起，傻傻分不清楚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> illOne = <span class="number">10</span>;</span><br></pre></td></tr></table></figure><h1 id="做有意义的区分"><a href="#做有意义的区分" class="headerlink" title="做有意义的区分"></a>做有意义的区分</h1><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> userData, userInfo; <span class="comment">// Data和Info, 有什么区别？？？？, 不要再用data和info这样模糊不清的单词了</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> userProfile, userAcount</span><br></pre></td></tr></table></figure><h1 id="使用读得出来的名称"><a href="#使用读得出来的名称" class="headerlink" title="使用读得出来的名称"></a>使用读得出来的名称</h1><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad </span></span><br><span class="line"><span class="keyword">var</span> beeceearrthrtee; <span class="comment">// 你知道怎么读吗？ 鼻涕阿三？？</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> userName;</span><br></pre></td></tr></table></figure><h1 id="使用可搜索的名称"><a href="#使用可搜索的名称" class="headerlink" title="使用可搜索的名称"></a>使用可搜索的名称</h1><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> e = <span class="string">'not found'</span>; <span class="comment">// 想搜e, 就很难搜</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">var</span> ERROR_NO_FOUND = <span class="string">'not found'</span>;</span><br></pre></td></tr></table></figure><h1 id="方法名一概是动词短语"><a href="#方法名一概是动词短语" class="headerlink" title="方法名一概是动词短语"></a>方法名一概是动词短语</h1><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createAgent</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">funtion deleteAgent()&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateAgent</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">queryAgent</span><span class="params">()</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure><h1 id="尽量不要用单字母名称-除了用于循环"><a href="#尽量不要用单字母名称-除了用于循环" class="headerlink" title="尽量不要用单字母名称, 除了用于循环"></a>尽量不要用单字母名称, 除了用于循环</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++)&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// very good</span></span><br><span class="line">userList.<span class="keyword">forEach</span>(<span class="function"><span class="keyword">function</span><span class="params">(user)</span></span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h1 id="每个概念对应一个词"><a href="#每个概念对应一个词" class="headerlink" title="每个概念对应一个词"></a>每个概念对应一个词</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">controller和manager, 没什么区别，要用controller都用controller, 要用manager都用manager, 不要混着用</span><br></pre></td></tr></table></figure><h1 id="建立项目词汇表-不要随意创造名称"><a href="#建立项目词汇表-不要随意创造名称" class="headerlink" title="建立项目词汇表, 不要随意创造名称"></a>建立项目词汇表, 不要随意创造名称</h1><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">user</span></span>, agent, org, queue, activity, device...</span><br></pre></td></tr></table></figure><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul><li>《代码整洁之道》</li><li>《明朝那些事儿》</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;在小朱元璋出生一个月后，父母为他取了一个名字（元时惯例）：朱重八，这个名字也可以叫做朱八八。我们这里再介绍一下，朱重八家族的名字，都很有特点。&lt;br&gt;朱重八高祖名字：朱百六；&lt;br&gt;朱重八曾祖名字：朱四九；&lt;br&gt;朱重八祖父名字：朱初一；&lt;br&gt;他
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>定位神器：1秒定位DOM元素绑定的事件代码的位置</title>
    <link href="https://wdd.js.org/visual-event-tool.html"/>
    <id>https://wdd.js.org/visual-event-tool.html</id>
    <published>2018-02-08T01:15:20.000Z</published>
    <updated>2018-02-08T01:33:42.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://p3alsaatj.bkt.clouddn.com/20180208091603_Jkrh7t_Screenshot.jpeg" alt=""></p><h1 id="1-VisualEvent"><a href="#1-VisualEvent" class="headerlink" title="1 VisualEvent"></a>1 VisualEvent</h1><p>github地址： <a href="https://github.com/DataTables/VisualEvent" target="_blank" rel="noopener">https://github.com/DataTables/VisualEvent</a></p><h1 id="2-使用教程"><a href="#2-使用教程" class="headerlink" title="2 使用教程"></a>2 使用教程</h1><ol><li><p>打开<a href="http://sprymedia.co.uk/VisualEvent/这个页面，然后将visual" target="_blank" rel="noopener">http://sprymedia.co.uk/VisualEvent/这个页面，然后将visual</a> Event连接拖动到浏览器的书签栏上<br><img src="http://p3alsaatj.bkt.clouddn.com/20180208091616_EoSfZO_Screenshot.jpeg" alt=""></p></li><li><p>随便打开一个页面，然后点击VisualEvent书签后，页面就变成这样了。鼠标移动到蓝色或者黄色边框的元素上，相应得逻辑代码就会出现。截图左下角蓝色长条上有一些有用的信息，最左边有个关闭的按钮。</p></li></ol><p><img src="http://p3alsaatj.bkt.clouddn.com/20180208091627_KXpGYc_Screenshot.jpeg" alt=""></p><h1 id="3-最后"><a href="#3-最后" class="headerlink" title="3. 最后"></a>3. 最后</h1><p>VisualEvent并不是万能的，Vue绑定的事件它就无法检测出来。当然Vue的事件是直接写在Dom上的，根本无需定位。<br><code>工欲善其事必先利其器，多一个工具总是好的，万一真有需要呢。</code></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;http://p3alsaatj.bkt.clouddn.com/20180208091603_Jkrh7t_Screenshot.jpeg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;1-VisualEvent&quot;&gt;&lt;a href=&quot;#1-VisualEv
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>可能被遗漏的https与http的知识点</title>
    <link href="https://wdd.js.org/you-dont-know-https-and-http.html"/>
    <id>https://wdd.js.org/you-dont-know-https-and-http.html</id>
    <published>2018-02-08T01:10:59.000Z</published>
    <updated>2018-02-08T01:14:52.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="HTTPS域向HTTP域发送请求会被浏览器直接拒绝，HTTP向HTTPS则不会"><a href="#HTTPS域向HTTP域发送请求会被浏览器直接拒绝，HTTP向HTTPS则不会" class="headerlink" title="HTTPS域向HTTP域发送请求会被浏览器直接拒绝，HTTP向HTTPS则不会"></a>HTTPS域向HTTP域发送请求会被浏览器直接拒绝，HTTP向HTTPS则不会</h1><p>例如在github pages页面，这是一个https页面，如果在这个页面向http发送请求，那么会直接被浏览器拒绝，并在控制台输出下面的报错信息。</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">jquery-1.11.3.min.js:5 </span>Mixed Content: The page <span class="built_in">at</span> <span class="string">'https://wangduanduan.github.io/ddddddd/'</span> was loaded over HTTPS, <span class="keyword">but </span>requested an <span class="keyword">insecure </span>XMLHttpRequest endpoint <span class="string">'http://cccccc/log/conf?token=welljoint'</span>. This request has <span class="keyword">been </span><span class="keyword">blocked; </span>the content must <span class="keyword">be </span>served over HTTPS.</span><br></pre></td></tr></table></figure><p>如果你在做第三方集成的系统，如果他们是在浏览器中直接调用你提供的接口，<code>那么最好你使用https协议，这样无论对方是https还是http都可以访问</code>。（相信我，这个很重要，我曾经经历过上线后遇到这个问题，然后连夜申请证书，把http升级到https的痛苦经历）</p><h1 id="HTTPS的默认端口是443，而不是443"><a href="#HTTPS的默认端口是443，而不是443" class="headerlink" title="HTTPS的默认端口是443，而不是443"></a>HTTPS的默认端口是443，而不是443</h1><p>如果443端口已经被其他服务占用了，那么使用其他任何没有被占用的端口都可以用作HTTPS服务，只不过在请求的时候需要加上端口号罢了。</p><h1 id="如何快速隐藏一个DOM元素"><a href="#如何快速隐藏一个DOM元素" class="headerlink" title="如何快速隐藏一个DOM元素"></a>如何快速隐藏一个DOM元素</h1><p>选中一个元素，然后按<code>h</code>,这时候就会在选中的DOM元素上加上<code>__web-inspector-hide-shortcut__</code>类，这个类会让元素隐藏。谷歌和火狐上都可以，IE上没有试过行不行。</p><p><img src="http://p3alsaatj.bkt.clouddn.com/20180208091217_HDF1vL_Screenshot.jpeg" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;HTTPS域向HTTP域发送请求会被浏览器直接拒绝，HTTP向HTTPS则不会&quot;&gt;&lt;a href=&quot;#HTTPS域向HTTP域发送请求会被浏览器直接拒绝，HTTP向HTTPS则不会&quot; class=&quot;headerlink&quot; title=&quot;HTTPS域向HTTP域发送
      
    
    </summary>
    
    
      <category term="http" scheme="https://wdd.js.org/tags/http/"/>
    
      <category term="https" scheme="https://wdd.js.org/tags/https/"/>
    
  </entry>
  
  <entry>
    <title>直接在Chrome DevTools调试Node.js</title>
    <link href="https://wdd.js.org/debug-nodejs-in-chrome-devtool.html"/>
    <id>https://wdd.js.org/debug-nodejs-in-chrome-devtool.html</id>
    <published>2018-02-07T06:15:43.000Z</published>
    <updated>2018-02-07T06:19:15.000Z</updated>
    
    <content type="html"><![CDATA[<p>英文好的，直接看原文</p><blockquote><p><a href="https://blog.hospodarets.com/nodejs-debugging-in-chrome-devtools" target="_blank" rel="noopener">https://blog.hospodarets.com/nodejs-debugging-in-chrome-devtools</a></p></blockquote><h1 id="要求"><a href="#要求" class="headerlink" title="要求"></a>要求</h1><ul><li>Node.js 6.3+</li><li>Chrome 55+</li></ul><h1 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h1><ul><li>1 打开连接 <code>chrome://flags/#enable-devtools-experiments</code></li><li>2 开启<code>开发者工具实验性功能</code> </li><li>3 重启浏览器</li><li>4 打开 DevTools Setting -&gt; Experiments tab</li><li>5 按6次shift后，隐藏的功能会出现，勾选”Node debugging”</li></ul><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207141627_9HT0nS_Screenshot.jpeg" alt=""></p><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207141636_hIfIyG_Screenshot.jpeg" alt=""></p><h1 id="运行程序"><a href="#运行程序" class="headerlink" title="运行程序"></a>运行程序</h1><p>必须要有 <code>--inspect</code><br><figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; node <span class="comment">--inspect www</span></span><br><span class="line">Debugger listening <span class="keyword">on</span> <span class="keyword">port</span> <span class="number">9229</span>.</span><br><span class="line"><span class="literal">Warning</span>: This <span class="keyword">is</span> an experimental feature <span class="keyword">and</span> could change at any <span class="built_in">time</span>.</span><br><span class="line"><span class="keyword">To</span> start debugging, <span class="keyword">open</span> the following URL <span class="keyword">in</span> Chrome:</span><br><span class="line">    chrome-devtools://devtools/remote/serve_file/@<span class="number">60</span>cd6e859b9f557d2312f5bf532f6aec5f284980/inspector.html?experiments=<span class="literal">true</span>&amp;v8only=<span class="literal">true</span>&amp;ws=localhost:<span class="number">9229</span>/<span class="number">78</span>a884f4-<span class="number">8</span>c2e-<span class="number">459e-93</span>f7-e1cbe87cf5cf</span><br></pre></td></tr></table></figure></p><p>将这个地址粘贴到谷歌浏览器：<code>chrome-devtools://devtools/remote/serve_file/@60cd6e859b9f557d2312f5bf532f6aec5f284980/inspector.html?experiments=true&amp;v8only=true&amp;ws=localhost:9229/78a884f4-8c2e-459e-93f7-e1cbe87cf5cf</code></p><p>程序后端输出的日志也回输出到谷歌浏览器的console里面，同时也可以在Sources里进行断点调试了。<br><img src="http://p3alsaatj.bkt.clouddn.com/20180207141649_ArMyV7_Screenshot.jpeg" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;英文好的，直接看原文&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.hospodarets.com/nodejs-debugging-in-chrome-devtools&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;
      
    
    </summary>
    
    
      <category term="nodejs" scheme="https://wdd.js.org/tags/nodejs/"/>
    
  </entry>
  
  <entry>
    <title>12个值得关注的顶级JS库</title>
    <link href="https://wdd.js.org/top-11-javascript-libraries-are-worth-your-attention.html"/>
    <id>https://wdd.js.org/top-11-javascript-libraries-are-worth-your-attention.html</id>
    <published>2018-02-07T06:08:10.000Z</published>
    <updated>2018-02-07T06:12:58.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>本文是译文，原文是<a href="https://da-14.com/blog/top-11-javascript-libraries-are-worth-your-attention" target="_blank" rel="noopener">https://da-14.com/blog/top-11-javascript-libraries-are-worth-your-attention</a><br>我在原文的基础上加了百度的Echats图表库，这个也是毫不逊色其他图表库的。另外<code>Handsontable</code>电子表格库也是蛮好玩的。</p></blockquote><p>前端开发工具在过去几年中取得了进步和成功。这些日子，JS库和框架可以简化工作流程，提高开发过程，并在响应式设计方面提供更好的功能。</p><p>考虑到一个长的JavaScript库列表，它可能是挑战选择，那是值得的时间和精力。我们已经讨论了最好的JavaScript框架，今天我们想研究JS库中的新星。你可能听说过像jQuery或React这样的大名字，这是最有用的JavaScript库之一，虽然有很多其他解决方案。</p><p>一些库是几乎必须在每个其他项目应用，而其他的更集中和用于执行应用程序中的特定功能。为了清楚起见，我们按类型分组了最好的JavaScript库，所以让我们开始。</p><h1 id="图表类"><a href="#图表类" class="headerlink" title="图表类"></a>图表类</h1><h2 id="D3"><a href="#D3" class="headerlink" title="D3"></a>D3</h2><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207140915_vcI4lr_Screenshot.jpeg" alt=""></p><p><code>D3.js</code>（数据驱动文档）通常被称为最强大的开源JavaScript可视化库。它的生态系统包括几十个插件和其他库建立在D3js的顶部。同时，支持社区和大量的文档可以帮助您立即开始。</p><p>D3符合W3C网络标准，几乎支持所有现代浏览器。尽管事实上它不包括任何预先构建的图表，它提供了许多例子和“输入和退出”选择，容易的调试过程和强大的转换等有用的功能。</p><h2 id="Chart-js"><a href="#Chart-js" class="headerlink" title="Chart.js"></a>Chart.js</h2><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207140930_ZnxYmL_Screenshot.jpeg" alt=""></p><p><code>Chart.js</code>是一个简单的开源解决方案，用于小项目和这些情况下，当你需要快速创建图表。它有八种图表类型和混合它们的能力，外加令人惊叹的动画选项开箱。强烈建议使用此JavaScript图形库，以便简单的设置过程，工作灵活性和全面的文档，尽管其功能相当有限。 Chartist.js具有类似的功能，而它是基于SVG，而不是HTML5画布在Chartjs。</p><h2 id="FusionCharts"><a href="#FusionCharts" class="headerlink" title="FusionCharts"></a>FusionCharts</h2><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207140946_mjOHvG_Screenshot.jpeg" alt=""></p><p>FusionCharts是迄今为止最好的JavaScript图表库。作为设计师和开发者最全面的解决方案，它包括90多种图表类型和1000个地图，将Google图表和MetricsGraphics保留在后面。</p><p>今天FusionCharts可以拥有超过24,000个客户，其中包括白宫，Oracle，IBM，微软，谷歌等等。作为最流行的JavaScript库之一，它是高度可扩展的，并与各种设备和浏览器，包括IE 6,7和8兼容。但是，水印版本可以免费使用商业和个人项目，但删除水印你需要购买许可证。</p><h2 id="Google-Charts"><a href="#Google-Charts" class="headerlink" title="Google Charts"></a>Google Charts</h2><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207141002_vvosw1_Screenshot.jpeg" alt=""><br><code>Google图表</code>允许您构建从纯色图表到复杂树形图的所有内容。它配备了广泛的预构建的图表库，各种数据工具和多个自定义选项。 HTML5和SVG上的基础图表​​此库确保跨浏览器和跨平台兼容性，而对于较旧的IE版本，它包括VML。</p><p>由于详细的文档，代码注释和分步说明，Google Charts工具可以成为任何人谁想要使用JavaScript构建图表的一个很好的起点。但是，由于文件是从Google的服务器上传的，因此您的Web JavaScript应用程序应该在线以查看图表。</p><h2 id="Echarts（百度出品）"><a href="#Echarts（百度出品）" class="headerlink" title="Echarts（百度出品）"></a>Echarts（百度出品）</h2><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207141017_bXZ0zq_Screenshot.jpeg" alt=""></p><ul><li><p>更小文件 更大作为</p><ul><li>更小体积的文件，满足更轻便的使用需求</li><li>更灵活的打包方式，可自由选择你需要的图表和组件</li></ul></li><li><p>移动端强势来袭</p><ul><li>良好的自适应效果</li><li>专属的移动端交互体验</li></ul></li><li><p>更丰富的可视化效果</p><ul><li>新增更多图表类型，更好的满足不同数据的处理需求 更多的搭配方案让你的数据呈现方式更个性和完美</li></ul></li></ul><h1 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h1><h2 id="GSAP"><a href="#GSAP" class="headerlink" title="GSAP"></a>GSAP</h2><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207141045_LW91oF_Screenshot.jpeg" alt=""></p><p><code>GSAP</code>（GreenSock动画平台）是一个先进的动画解决方案，由全球最大的企业使用创建惊人的互动动画，没有麻烦。它被超过200万网站雇用，在他们的客户中，你可以找到像福特，耐克，Adobe，微软，三星和许多其他的伟大的名字。</p><p>GSAP与新旧浏览器以及移动设备高度兼容。在顶级功能SVG支持，使任何DOM元素可拖动，可旋转或可滑动滚动和快速性能的能力。它还带有定向旋转，3D变换，模块化架构，快速加载，零依赖性等等。</p><h2 id="Bounce-js"><a href="#Bounce-js" class="headerlink" title="Bounce.js"></a>Bounce.js</h2><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207141103_qmxThj_Screenshot.jpeg" alt=""></p><p><code>Bounce.js</code>是一个整洁的JavaScript动画库，使您能够创建有吸引力的CSS3动力的动画，像饼图一样简单。它有10个预设，如旋转，旋风，果冻，公路跑步者和其他人，以生成平滑的动画，任何网页设计或自定义项目。</p><p>这个库是绝对免费的和MIT许可的，它是一个不错的选择，在那些情况下，当你不需要一个长列表的动画类型，寻找实验或只是尝试你的手在动画。</p><h1 id="Animate-css"><a href="#Animate-css" class="headerlink" title="Animate.css"></a>Animate.css</h1><p><img src="/img/bVI7Av" alt="clipboard.png"></p><p><code>Animate.css</code>是一个平滑的CSS库，允许您添加整洁的动画到所选对象。它具有超过50种不同的预设，可以应用于文本，形式，对象和CSS3的图片。由于小文件大小，跨浏览器支持和易于使用它可以是一个非常适合移动项目，滑块，主页等。</p><h1 id="时间日期"><a href="#时间日期" class="headerlink" title="时间日期"></a>时间日期</h1><h2 id="Moment-js"><a href="#Moment-js" class="headerlink" title="Moment.js"></a>Moment.js</h2><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207141151_MuJJGe_Screenshot.jpeg" alt=""></p><p><code>Moment.js</code>是一个简单和轻量级的日期库，使解析，操作和格式化日期和时间容易和准确。它具有多语言支持，持续时间，日历时间和各种插件，以获得诸如时区支持，Twitter集成等功能。但重要的是，它消除了使用本机JavaScript日期对象的需要，随后促进复杂解析过程和减少代码量。</p><h2 id="Date-fns"><a href="#Date-fns" class="headerlink" title="Date-fns"></a>Date-fns</h2><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207141209_nLE7jE_Screenshot.jpeg" alt=""></p><p><code>Date-fns</code>是一个高级工具集，用于在浏览器和Node.js中操作时间和日期。它提供了140多个有用的功能，可以通过简单的API轻松访问。由于模块化结构，它允许您只选择您当前需要的项目的那些功能。</p><h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><h2 id="Math-js"><a href="#Math-js" class="headerlink" title="Math.js"></a>Math.js</h2><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207141231_eEfaRZ_Screenshot.jpeg" alt=""></p><p>Math.js是JavaScript引擎的开源数学库。它有许多函数和常量，灵活的表达式解析器，以及支持复杂和大数字，单位，字符串，分数，矩阵，数组和符号计算。</p><h2 id="Handsontable"><a href="#Handsontable" class="headerlink" title="Handsontable"></a>Handsontable</h2><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207141247_GqNwF8_Screenshot.jpeg" alt=""></p><p><code>Handsontable</code>是一个无障碍的JavaScript<code>电子表格库</code>用于构建一流的Web应用程序。它可以轻松地扩展和修改与自定义插件。由开发人员为开发人员建造，它确保快速和容易的开始，方便的模块化结构和活跃的社区支持。这个表库包括超过30个功能的免费版本和额外的10+功能的专业版。目前Handsontable用于销售报告，人力规划，数据合并，数据库编辑等领域。</p><blockquote></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;本文是译文，原文是&lt;a href=&quot;https://da-14.com/blog/top-11-javascript-libraries-are-worth-your-attention&quot; target=&quot;_blank&quot; rel=&quot;noopener
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>【译】13简单的优秀编码规则（从我15年的经验）</title>
    <link href="https://wdd.js.org/few-simple-rules-for-good-coding-my-15-years-experience.html"/>
    <id>https://wdd.js.org/few-simple-rules-for-good-coding-my-15-years-experience.html</id>
    <published>2018-02-07T06:03:12.000Z</published>
    <updated>2018-02-07T06:04:29.000Z</updated>
    
    <content type="html"><![CDATA[<p>原文地址：<a href="https://hackernoon.com/few-simple-rules-for-good-coding-my-15-years-experience-96cb29d4acd9#.ddzpjb80c" target="_blank" rel="noopener">https://hackernoon.com/few-simple-rules-for-good-coding-my-15-years-experience-96cb29d4acd9#.ddzpjb80c</a></p><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207140343_0UaL3X_Screenshot.jpeg" alt=""></p><p>嗨，我的工作作为一个程序员超过15年，并使用许多不同的语言，范例，框架和其他狗屎。我想和大家分享我写好代码的规则。</p><h1 id="优化VS可读性-去他妈的优化"><a href="#优化VS可读性-去他妈的优化" class="headerlink" title="优化VS可读性 去他妈的优化"></a>优化VS可读性 去他妈的优化</h1><p>始终编​​写易于阅读且对开发人员可理解的代码。因为在硬可读代码上花费的时间和资源将远远高于从优化中获得的。<br>如果你需要进行优化，那么使它像DI的独立模块，具有100％的测试覆盖率，并且不会被触及至少一年。</p><h1 id="架构第一"><a href="#架构第一" class="headerlink" title="架构第一"></a>架构第一</h1><p>我看到很多人说“我们需要快速做事，我们没有时间做架构”。其中约99％的人因为这样的想法而遇到了大问题。<br>编写代码而不考虑其架构是没有用的，就像没有实现它们的计划一样，梦想你的愿望。<br>在编写代码的第一行之前，你应该明白它将要做什么，它将如何使用，模块，服务如何相互工作，它将有什么结构，如何进行测试和调试，以及如何更新。</p><h1 id="测试覆盖率"><a href="#测试覆盖率" class="headerlink" title="测试覆盖率"></a>测试覆盖率</h1><p>测试是好事，但他们并不总是负担得起，对项目有意义。</p><p>当你需要测试：</p><ul><li>当你编写模块时，微服务将不会被触及至少一个月。</li><li>当你编写开源代码。</li><li>当你编写涉及金融渠道的核心代码或代码。</li><li>当您有代码更新的同时更新测试的资源。</li></ul><p>当你不需要测试时：</p><ul><li>当你是一个创业。</li><li>当你有小团队和代码更改是快速。</li><li>当你编写的脚本，可以简单地通过他们的输出手动测试。</li></ul><p>记住，<code>带有严格测试的代码可能比没有测试的代码更有害</code>。</p><h1 id="保持简单，极度简单"><a href="#保持简单，极度简单" class="headerlink" title="保持简单，极度简单"></a>保持简单，极度简单</h1><p>不要编写复杂的代码。更多更简单，那么更少的错误它可能有和更少的时间来调试它们。代码应该做的只是它需要没有非常多的抽象和其他OOP shit（尤其是涉及java开发人员）+ 20％的东西可能需要在将来以简单的方式更新它。</p><h1 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h1><p>出现注释说明你的代码不够好。好的代码应该是可以理解的，没有一行注释。但是如何为新开发人员节省时间？ - 编写简单的内联文档描述什么和如何方法工作。这将节省很多时间来理解，甚至更多 - 它将给人们更多的机会来提出更好的实施这种方法。并且它将是全球代码文档的良好开端。</p><h1 id="硬耦合VS较小耦合"><a href="#硬耦合VS较小耦合" class="headerlink" title="硬耦合VS较小耦合"></a>硬耦合VS较小耦合</h1><p>始终尝试使用微服务架构。单片软件可以比微服务软件运行得更快，但只能在一个服务器的上下文中运行。<br>微服务使您可以不仅在许多服务器上，而且有时甚至在一台机器上（我的意思是过程分发）高效地分发您的软件。</p><h1 id="代码审查"><a href="#代码审查" class="headerlink" title="代码审查"></a>代码审查</h1><p>代码审查可以是好的，也以是坏的。<br>您可以组织代码审查，只有当您有开发人员了解95％的代码，谁可以监控所有更新，而不浪费很多时间。在其他情况下，这将是只是耗时，每个人都会讨厌这个。</p><p>在这部分有很多问题，所以更深入地描述这一点。</p><p>许多人认为代码审查是一个很好的方式教新手，或者工作在不同部分的代码的队友。但是代码审查的主要目标是保持代码质量，而不是教学。让我们想象你的团队制作代码用于控制核反应堆或太空火箭发动机的冷却系统。你在非常硬的逻辑中犯了巨大的错误，然后你给这个代码审查新的家伙。你怎么认为会发生意外的风险？ - 我的练习率超过70％。</p><p>良好的团队是每个人都有自己的角色，负责确切的工作。如果有人想要理解另一段代码，那么他去一个负责任去问他。你不可能知道一切，更好的优秀的理解小块代码而不是理解所有。</p><h1 id="重构没啥用"><a href="#重构没啥用" class="headerlink" title="重构没啥用"></a>重构没啥用</h1><p>在我的职业生涯中，我听到很多次“不要担心，我们以后会重构它”。在未来，这会导致大的技术债务或从头开始删除所有的代码和写作。</p><p>所以，不要得到一个债务，除非你有钱从头开发你的软件几次。</p><h1 id="当你累了或在一个坏的心情不要写代码。"><a href="#当你累了或在一个坏的心情不要写代码。" class="headerlink" title="当你累了或在一个坏的心情不要写代码。"></a>当你累了或在一个坏的心情不要写代码。</h1><p>当开发人员厌倦时，他们正在制造2到5倍或者更多的bug。所以工作更多是非常糟糕的做法。这就是为什么越来越多的国家思考6小时工作日，其中一些已经有了。精神工作不同于使用你的二头肌。</p><h1 id="不要一次写全部-使开发迭代"><a href="#不要一次写全部-使开发迭代" class="headerlink" title="不要一次写全部 - 使开发迭代"></a>不要一次写全部 - 使开发迭代</h1><p>在编写代码分析和预测之前，您的客户/客户真正需要什么，然后选择您可以在短期内以高质量开发的MVF（最有价值的功能）。使用这样的迭代来部署质量更新，而不是腰部时间和资源对不合理的愿望和牺牲与质量。</p><h1 id="自动化VS手动"><a href="#自动化VS手动" class="headerlink" title="自动化VS手动"></a>自动化VS手动</h1><p>自动化是长期的100％成功。所以如果你有资源自动化的东西，现在应该做。你可能认为“只需要5分钟，为什么我应该自动化？但让我计算这个。例如，它是5个开发人员的日常任务。 5分钟<em> 5天</em> 21天* 12个月= 6 300分钟= 105小时= 13.125天〜5250 $。<br>如果你有40 000名员工，这将需要多少费用？</p><h1 id="出去浪，学习新爱好"><a href="#出去浪，学习新爱好" class="headerlink" title="出去浪，学习新爱好"></a>出去浪，学习新爱好</h1><p>差异化工作可以增加心智能力，并提供新想法。所以，暂停现在的工作，出去呼吸一下新鲜空气，与朋友交谈，弹吉他等。<br><code>ps: 莫春者，春服既成，冠者五六人，童子六七人，浴乎沂，风乎舞雩，咏而归。------《论语.先进》。</code></p><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207140423_Iku4es_Screenshot.jpeg" alt=""></p><h1 id="在空闲时间学习新事物"><a href="#在空闲时间学习新事物" class="headerlink" title="在空闲时间学习新事物"></a>在空闲时间学习新事物</h1><p><code>当人们停止学习时，他们开始退化。</code></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;原文地址：&lt;a href=&quot;https://hackernoon.com/few-simple-rules-for-good-coding-my-15-years-experience-96cb29d4acd9#.ddzpjb80c&quot; target=&quot;_blank&quot; rel
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>15行代码为segmentfault增加头条文章排序功能</title>
    <link href="https://wdd.js.org/sort-for-sf.html"/>
    <id>https://wdd.js.org/sort-for-sf.html</id>
    <published>2018-02-07T06:00:46.000Z</published>
    <updated>2018-02-07T06:01:49.000Z</updated>
    
    <content type="html"><![CDATA[<p>有个需求，想看点赞最多的头条，但是页面没有这种按钮。怎么办？自己写吧。</p><p>先看效果<br><img src="http://p3alsaatj.bkt.clouddn.com/20180207140139_xwjt2M_Screenshot.jpeg" alt=""></p><p>再看代码<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> rows = $(<span class="string">'.news__item'</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> key = +$(<span class="keyword">this</span>).find(<span class="string">'.news__item-zan-number'</span>).text();</span><br><span class="line">    $(<span class="keyword">this</span>).data(<span class="string">'key'</span>, key);</span><br><span class="line">&#125;).get();</span><br><span class="line"></span><br><span class="line">rows.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> keyA = $(a).data(<span class="string">'key'</span>);</span><br><span class="line">    <span class="keyword">var</span> keyB = $(b).data(<span class="string">'key'</span>);</span><br><span class="line">    <span class="keyword">if</span>(keyA&lt;keyB)&#123;<span class="keyword">return</span> <span class="number">-1</span>;&#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;<span class="keyword">return</span> <span class="number">1</span>;&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">$.each(rows, <span class="function"><span class="keyword">function</span>(<span class="params">index, row</span>)</span>&#123;</span><br><span class="line">    $(<span class="string">'.news__list'</span>).prepend(row);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;有个需求，想看点赞最多的头条，但是页面没有这种按钮。怎么办？自己写吧。&lt;/p&gt;
&lt;p&gt;先看效果&lt;br&gt;&lt;img src=&quot;http://p3alsaatj.bkt.clouddn.com/20180207140139_xwjt2M_Screenshot.jpeg&quot; alt=
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>可视化交互阅读JS源代码</title>
    <link href="https://wdd.js.org/visual-reading-js-code.html"/>
    <id>https://wdd.js.org/visual-reading-js-code.html</id>
    <published>2018-02-07T05:57:25.000Z</published>
    <updated>2018-02-07T05:58:28.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="曾经，你可以能习惯这样阅读javascript"><a href="#曾经，你可以能习惯这样阅读javascript" class="headerlink" title="曾经，你可以能习惯这样阅读javascript"></a>曾经，你可以能习惯这样阅读javascript</h1><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207135809_HSz6fD_Screenshot.jpeg" alt=""></p><h1 id="现在，你可以用这个姿势阅读"><a href="#现在，你可以用这个姿势阅读" class="headerlink" title="现在，你可以用这个姿势阅读"></a>现在，你可以用这个姿势阅读</h1><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207135821_3b9l9c_Screenshot.jpeg" alt=""></p><h1 id="怎么做呢"><a href="#怎么做呢" class="headerlink" title="怎么做呢?"></a>怎么做呢?</h1><h2 id="step1"><a href="#step1" class="headerlink" title="step1:"></a>step1:</h2><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g <span class="built_in">lambda</span>-<span class="built_in">view</span></span><br></pre></td></tr></table></figure><h2 id="step2"><a href="#step2" class="headerlink" title="step2:"></a>step2:</h2><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 阅读本地代码</span></span><br><span class="line">lv targer.js</span><br><span class="line"></span><br><span class="line"><span class="comment">// 阅读远程代码</span></span><br><span class="line">lv https:<span class="comment">//code.jquery.com/jquery-3.1.1.js</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 阅读多个代码</span></span><br><span class="line">lv file1<span class="selector-class">.js</span> file2<span class="selector-class">.js</span> file3.js</span><br><span class="line"></span><br><span class="line"><span class="comment">// 阅读所有</span></span><br><span class="line">lv *.js</span><br></pre></td></tr></table></figure><h1 id="项目地址：https-github-com-Jianru-Lin-lambda-view"><a href="#项目地址：https-github-com-Jianru-Lin-lambda-view" class="headerlink" title="项目地址：https://github.com/Jianru-Lin/lambda-view"></a>项目地址：<a href="https://github.com/Jianru-Lin/lambda-view" target="_blank" rel="noopener">https://github.com/Jianru-Lin/lambda-view</a></h1><h1 id="欢迎试玩！"><a href="#欢迎试玩！" class="headerlink" title="欢迎试玩！"></a>欢迎试玩！</h1>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;曾经，你可以能习惯这样阅读javascript&quot;&gt;&lt;a href=&quot;#曾经，你可以能习惯这样阅读javascript&quot; class=&quot;headerlink&quot; title=&quot;曾经，你可以能习惯这样阅读javascript&quot;&gt;&lt;/a&gt;曾经，你可以能习惯这样阅读java
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>谷歌浏览器： Snippets小程序哪家强？</title>
    <link href="https://wdd.js.org/chrome-snippets-collect.html"/>
    <id>https://wdd.js.org/chrome-snippets-collect.html</id>
    <published>2018-02-07T05:48:55.000Z</published>
    <updated>2018-02-07T05:55:18.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Snippets是可以在Chrome DevTools的“源”面板中创建和执行的小脚本。 您可以从任何页面访问和运行它们。 当您运行代码段时，它会从当前打开的页面的上下文执行。</p></blockquote><h1 id="显示所有元素的边框，看页面布局非常方便"><a href="#显示所有元素的边框，看页面布局非常方便" class="headerlink" title="显示所有元素的边框，看页面布局非常方便"></a>显示所有元素的边框，看页面布局非常方便</h1><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207135027_4TAe1P_Screenshot.jpeg" alt=""></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[].forEach.call($$(<span class="string">"*"</span>),<span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">  a.style.outline=<span class="string">"1px solid #"</span>+(~~(<span class="built_in">Math</span>.random()*(<span class="number">1</span>&lt;&lt;<span class="number">24</span>))).toString(<span class="number">16</span>)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h1 id="allcolors-js"><a href="#allcolors-js" class="headerlink" title="allcolors.js"></a>allcolors.js</h1><blockquote><p>从页面上的元素中使用的计算样式打印所有颜色。 使用样式化的console.log调用来可视化每种颜色。</p></blockquote><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207135046_bfEqm5_Screenshot.jpeg" alt=""><br><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// allcolors.js</span></span><br><span class="line"><span class="comment">// https://github.com/bgrins/devtools-snippets</span></span><br><span class="line"><span class="comment">// Print out CSS colors used in elements on the page.</span></span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Should include colors from elements that have a border color but have a zero width?</span></span><br><span class="line">  <span class="keyword">var</span> includeBorderColorsWithZeroWidth = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> allColors = &#123;&#125;;</span><br><span class="line">  <span class="keyword">var</span> props = [<span class="string">"background-color"</span>, <span class="string">"color"</span>, <span class="string">"border-top-color"</span>, <span class="string">"border-right-color"</span>, <span class="string">"border-bottom-color"</span>, <span class="string">"border-left-color"</span>];</span><br><span class="line">  <span class="keyword">var</span> skipColors = &#123;</span><br><span class="line">    <span class="string">"rgb(0, 0, 0)"</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">"rgba(0, 0, 0, 0)"</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">"rgb(255, 255, 255)"</span>: <span class="number">1</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  [].forEach.call(<span class="built_in">document</span>.querySelectorAll(<span class="string">"*"</span>), <span class="function"><span class="keyword">function</span> (<span class="params">node</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> nodeColors = &#123;&#125;;</span><br><span class="line">    props.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">prop</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> <span class="built_in">color</span> = <span class="built_in">window</span>.getComputedStyle(node, <span class="literal">null</span>).getPropertyValue(prop),</span><br><span class="line">        thisIsABorderProperty = (prop.indexOf(<span class="string">"border"</span>) != <span class="number">-1</span>),</span><br><span class="line">        notBorderZero = thisIsABorderProperty ? <span class="built_in">window</span>.getComputedStyle(node, <span class="literal">null</span>).getPropertyValue(prop.replace(<span class="string">"color"</span>, <span class="string">"width"</span>)) !== <span class="string">"0px"</span> : <span class="literal">true</span>,</span><br><span class="line">        colorConditionsMet;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (includeBorderColorsWithZeroWidth) &#123;</span><br><span class="line">        colorConditionsMet = <span class="built_in">color</span> &amp;&amp; !skipColors[<span class="built_in">color</span>];</span><br><span class="line">      &#125; <span class="title">else</span> &#123;</span><br><span class="line">        colorConditionsMet = <span class="built_in">color</span> &amp;&amp; !skipColors[<span class="built_in">color</span>] &amp;&amp; notBorderZero;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (colorConditionsMet) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!allColors[<span class="built_in">color</span>]) &#123;</span><br><span class="line">          allColors[<span class="built_in">color</span>] = &#123;</span><br><span class="line">            <span class="attribute">count</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="attribute">nodes</span>: []</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!nodeColors[<span class="built_in">color</span>]) &#123;</span><br><span class="line">          allColors[<span class="built_in">color</span>].count++;</span><br><span class="line">          allColors[<span class="built_in">color</span>].nodes.push(node);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        nodeColors[<span class="built_in">color</span>] = <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">rgbTextToRgbArray</span>(<span class="params">rgbText</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> rgbText.replace(<span class="regexp">/\s/g</span>, <span class="string">""</span>).match(<span class="regexp">/\d+,\d+,\d+/</span>)[<span class="number">0</span>].split(<span class="string">","</span>).map(<span class="function"><span class="keyword">function</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">parseInt</span>(num, <span class="number">10</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">componentToHex</span>(<span class="params">c</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> hex = c.toString(<span class="number">16</span>);</span><br><span class="line">    <span class="keyword">return</span> hex.length == <span class="number">1</span> ? <span class="string">"0"</span> + <span class="attribute">hex</span> : hex;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">rgbToHex</span>(<span class="params">rgbArray</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> r = rgbArray[<span class="number">0</span>],</span><br><span class="line">      g = rgbArray[<span class="number">1</span>],</span><br><span class="line">      b = rgbArray[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"#"</span> + componentToHex(r) + componentToHex(g) + componentToHex(b);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> allColorsSorted = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> allColors) &#123;</span><br><span class="line">    <span class="keyword">var</span> rgbArray = rgbTextToRgbArray(i);</span><br><span class="line">    <span class="keyword">var</span> hexValue = rgbToHex(rgbArray);</span><br><span class="line"></span><br><span class="line">    allColorsSorted.push(&#123;</span><br><span class="line">      <span class="attribute">key</span>: i,</span><br><span class="line">      <span class="attribute">value</span>: allColors[i],</span><br><span class="line">      <span class="attribute">hexValue</span>: hexValue</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  allColorsSorted = allColorsSorted.sort(<span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b.value.count - a.value.count;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> nameStyle = <span class="string">"font-weight:normal;"</span>;</span><br><span class="line">  <span class="keyword">var</span> countStyle = <span class="string">"font-weight:bold;"</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">colorStyle</span>(<span class="params">color</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"background:"</span> + <span class="built_in">color</span> + <span class="string">";color:"</span> + <span class="built_in">color</span> + <span class="string">";border:1px solid #333;"</span>;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.group(<span class="string">"Total colors used in elements on the page: "</span> + <span class="built_in">window</span>.location.href + <span class="string">" are "</span> + allColorsSorted.length);</span><br><span class="line">  allColorsSorted.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">c</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.groupCollapsed(<span class="string">"%c    %c "</span> + c.key + <span class="string">" "</span> + c.hexValue + <span class="string">" %c("</span> + c.value.count + <span class="string">" times)"</span>,</span><br><span class="line">      colorStyle(c.key), nameStyle, countStyle);</span><br><span class="line">    c.value.nodes.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">node</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(node);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">console</span>.groupEnd();</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="built_in">console</span>.groupEnd(<span class="string">"All colors used in elements on the page"</span>);</span><br><span class="line"></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></p><h1 id="cachebuster-js"><a href="#cachebuster-js" class="headerlink" title="cachebuster.js"></a>cachebuster.js</h1><blockquote><p>通过在href和src属性的末尾添加Date.now（）来覆盖所有链接和（可选）脚本标记。 默认情况下，不执行处理脚本，应将变量process_scripts更改为true以运行这些脚本。</p></blockquote><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207135131_CvscRc_Screenshot.jpeg" alt=""></p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">//Cache Buster</span><br><span class="line">(<span class="name">function</span> ()&#123;</span><br><span class="line">  var rep = /.*\?.*/,</span><br><span class="line">      links = document.getElementsByTagName('link'),</span><br><span class="line">      scripts = document.getElementsByTagName('script'),</span><br><span class="line">      process_scripts = false<span class="comment">;</span></span><br><span class="line">  for (<span class="name">var</span> i=0<span class="comment">;i&lt;links.length;i++)&#123;</span></span><br><span class="line">    var link = links[i],</span><br><span class="line">        href = link.href<span class="comment">;</span></span><br><span class="line">    if(<span class="name">rep</span>.test(<span class="name">href</span>))&#123;</span><br><span class="line">      link.href = href+'&amp;'+Date.now()<span class="comment">;</span></span><br><span class="line">    &#125;</span><br><span class="line">    else&#123;</span><br><span class="line">      link.href = href+'?'+Date.now()<span class="comment">;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  if(<span class="name">process_scripts</span>)&#123;</span><br><span class="line">    for (<span class="name">var</span> i=0<span class="comment">;i&lt;scripts.length;i++)&#123;</span></span><br><span class="line">      var script = scripts[i],</span><br><span class="line">          src = script.src<span class="comment">;</span></span><br><span class="line">      if(<span class="name">rep</span>.test(<span class="name">src</span>))&#123;</span><br><span class="line">        script.src = src+'&amp;'+Date.now()<span class="comment">;</span></span><br><span class="line">      &#125;</span><br><span class="line">      else&#123;</span><br><span class="line">        script.src = src+'?'+Date.now()<span class="comment">;</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)()<span class="comment">;</span></span><br></pre></td></tr></table></figure><h1 id="console-save-js"><a href="#console-save-js" class="headerlink" title="console-save.js"></a>console-save.js</h1><blockquote><p>从控制台将对象保存为.json文件的简单方法包括一个chrome扩展和一个纯文本。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">console</span><span class="selector-class">.save</span>(<span class="selector-tag">data</span>, <span class="selector-attr">[filename]</span>)</span><br></pre></td></tr></table></figure></p></blockquote><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207135218_BG0kgp_Screenshot.jpeg" alt=""><br><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">function</span>(<span class="name">console</span>)&#123;</span><br><span class="line"></span><br><span class="line">    console.save = function(<span class="name">data</span>, filename)&#123;</span><br><span class="line"></span><br><span class="line">        if(<span class="name">!data</span>) &#123;</span><br><span class="line">            console.error(<span class="symbol">'Console.save:</span> No data')</span><br><span class="line">            return<span class="comment">;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if(<span class="name">!filename</span>) filename = <span class="symbol">'console.json</span>'</span><br><span class="line"></span><br><span class="line">        if(<span class="name">typeof</span> data === <span class="string">"object"</span>)&#123;</span><br><span class="line">            data = JSON.stringify(<span class="name">data</span>, undefined, <span class="number">4</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        var blob = new Blob([<span class="name">data</span>], &#123;type: <span class="symbol">'text/json</span>'&#125;),</span><br><span class="line">            e    = document.createEvent(<span class="symbol">'MouseEvents</span>'),</span><br><span class="line">            a    = document.createElement(<span class="symbol">'a</span>')</span><br><span class="line"></span><br><span class="line">        a.download = filename</span><br><span class="line">        a.href = window.URL.createObjectURL(<span class="name">blob</span>)</span><br><span class="line">        a.dataset.downloadurl =  [<span class="symbol">'text/json</span>', a.download, a.href].join(<span class="symbol">':</span>')</span><br><span class="line">        e.initMouseEvent(<span class="symbol">'click</span>', true, false, window, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, false, false, false, false, <span class="number">0</span>, null)</span><br><span class="line">        a.dispatchEvent(<span class="name">e</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)(<span class="name">console</span>)</span><br></pre></td></tr></table></figure></p><h1 id="formcontrols-js"><a href="#formcontrols-js" class="headerlink" title="formcontrols.js"></a>formcontrols.js</h1><blockquote><p>在一个不错的表中显示所有html表单元素及其值和类型。 在页面上为每个表单添加一个新表</p></blockquote><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207135247_mH2FW4_Screenshot.jpeg" alt=""><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// formcontrols.js</span></span><br><span class="line"><span class="comment">// https://github.com/bgrins/devtools-snippets</span></span><br><span class="line"><span class="comment">// Print out forms and their controls</span></span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> forms = <span class="built_in">document</span>.querySelectorAll(<span class="string">"form"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = forms.length; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> tab = [ ];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.group(<span class="string">"HTMLForm quot;"</span> + forms[i].name + <span class="string">"quot;: "</span> + forms[i].action);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Element:"</span>, forms[i], <span class="string">"\nName:    "</span>+forms[i].name+<span class="string">"\nMethod:  "</span>+forms[i].method.toUpperCase()+<span class="string">"\nAction:  "</span>+forms[i].action || <span class="string">"null"</span>);</span><br><span class="line"></span><br><span class="line">    [<span class="string">"input"</span>, <span class="string">"textarea"</span>, <span class="string">"select"</span>].forEach(<span class="function"><span class="keyword">function</span> (<span class="params">control</span>) </span>&#123;</span><br><span class="line">      [].forEach.call(forms[i].querySelectorAll(control), <span class="function"><span class="keyword">function</span> (<span class="params">node</span>) </span>&#123;</span><br><span class="line">        tab.push(&#123;</span><br><span class="line">          <span class="string">"Element"</span>: node,</span><br><span class="line">          <span class="string">"Type"</span>: node.type,</span><br><span class="line">          <span class="string">"Name"</span>: node.name,</span><br><span class="line">          <span class="string">"Value"</span>: node.value,</span><br><span class="line">          <span class="string">"Pretty Value"</span>: (<span class="built_in">isNaN</span>(node.value) || node.value === <span class="string">""</span> ? node.value : <span class="built_in">parseFloat</span>(node.value))</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.table(tab);</span><br><span class="line">    <span class="built_in">console</span>.groupEnd();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></p><h1 id="log-globals-js"><a href="#log-globals-js" class="headerlink" title="log-globals.js"></a>log-globals.js</h1><blockquote><p>打印全局变量</p></blockquote><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207135302_NLgNKa_Screenshot.jpeg" alt=""><br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="keyword">log</span>-globals</span><br><span class="line"><span class="keyword">by</span> Sindre Sorhus</span><br><span class="line">https:<span class="comment">//github.com/sindresorhus/log-globals</span></span><br><span class="line">MIT License</span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">(function () &#123;</span><br><span class="line">'<span class="keyword">use</span> strict';</span><br><span class="line"></span><br><span class="line">function getIframe() &#123;</span><br><span class="line"><span class="keyword">var</span> el = document.createElement('iframe');</span><br><span class="line">el.style.<span class="keyword">display</span> = 'none';</span><br><span class="line">document.body.appendChild(el);</span><br><span class="line"><span class="keyword">var</span> <span class="keyword">win</span> = el.contentWindow;</span><br><span class="line">document.body.removeChild(el);</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">win</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function detectGlobals() &#123;</span><br><span class="line"><span class="keyword">var</span> iframe = getIframe();</span><br><span class="line"><span class="keyword">var</span> <span class="keyword">ret</span> = Object.create(null);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> <span class="keyword">prop</span> <span class="keyword">in</span> <span class="keyword">window</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (!(<span class="keyword">prop</span> <span class="keyword">in</span> iframe)) &#123;</span><br><span class="line"><span class="keyword">ret</span>[<span class="keyword">prop</span>] = <span class="keyword">window</span>[<span class="keyword">prop</span>];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">ret</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.<span class="built_in">log</span>(detectGlobals());</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></p><h1 id="performance-js"><a href="#performance-js" class="headerlink" title="performance.js"></a>performance.js</h1><blockquote><p>打印有关window.performance对象的信息。 使用console.table和分组来组织信息。</p></blockquote><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207135314_IhE6UI_Screenshot.jpeg" alt=""><br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">// performance.js</span><br><span class="line">// https://github.com/bgrins/devtools-snippets</span><br><span class="line">// Print out window.performance information.</span><br><span class="line">// https://developer.mozilla.org/en-US/docs/Navigation_timing</span><br><span class="line"></span><br><span class="line">(function () &#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">var</span> t = window.performance.timing;</span><br><span class="line">  <span class="built_in">var</span> lt = window.chrome &amp;&amp; window.chrome.loadTimes &amp;&amp; window.chrome.loadTimes();</span><br><span class="line">  <span class="built_in">var</span> timings = [];</span><br><span class="line"></span><br><span class="line">  timings.<span class="built_in">push</span>(&#123;</span><br><span class="line">    <span class="built_in">label</span>: <span class="string">"Time Until Page Loaded"</span>,</span><br><span class="line">    <span class="built_in">time</span>: t.loadEventEnd - t.navigationStart + <span class="string">"ms"</span></span><br><span class="line">  &#125;);</span><br><span class="line">  timings.<span class="built_in">push</span>(&#123;</span><br><span class="line">    <span class="built_in">label</span>: <span class="string">"Time Until DOMContentLoaded"</span>,</span><br><span class="line">    <span class="built_in">time</span>: t.domContentLoadedEventEnd - t.navigationStart + <span class="string">"ms"</span></span><br><span class="line">  &#125;);</span><br><span class="line">  timings.<span class="built_in">push</span>(&#123;</span><br><span class="line">    <span class="built_in">label</span>: <span class="string">"Total Response Time"</span>,</span><br><span class="line">    <span class="built_in">time</span>: t.responseEnd - t.requestStart + <span class="string">"ms"</span></span><br><span class="line">  &#125;);</span><br><span class="line">  timings.<span class="built_in">push</span>(&#123;</span><br><span class="line">    <span class="built_in">label</span>: <span class="string">"Connection"</span>,</span><br><span class="line">    <span class="built_in">time</span>: t.connectEnd - t.connectStart + <span class="string">"ms"</span></span><br><span class="line">  &#125;);</span><br><span class="line">  timings.<span class="built_in">push</span>(&#123;</span><br><span class="line">    <span class="built_in">label</span>: <span class="string">"Response"</span>,</span><br><span class="line">    <span class="built_in">time</span>: t.responseEnd - t.responseStart + <span class="string">"ms"</span></span><br><span class="line">  &#125;);</span><br><span class="line">  timings.<span class="built_in">push</span>(&#123;</span><br><span class="line">    <span class="built_in">label</span>: <span class="string">"Domain Lookup"</span>,</span><br><span class="line">    <span class="built_in">time</span>: t.domainLookupEnd - t.domainLookupStart + <span class="string">"ms"</span></span><br><span class="line">  &#125;);</span><br><span class="line">  timings.<span class="built_in">push</span>(&#123;</span><br><span class="line">    <span class="built_in">label</span>: <span class="string">"Load Event"</span>,</span><br><span class="line">    <span class="built_in">time</span>: t.loadEventEnd - t.loadEventStart + <span class="string">"ms"</span></span><br><span class="line">  &#125;);</span><br><span class="line">  timings.<span class="built_in">push</span>(&#123;</span><br><span class="line">    <span class="built_in">label</span>: <span class="string">"Unload Event"</span>,</span><br><span class="line">    <span class="built_in">time</span>: t.unloadEventEnd - t.unloadEventStart + <span class="string">"ms"</span></span><br><span class="line">  &#125;);</span><br><span class="line">  timings.<span class="built_in">push</span>(&#123;</span><br><span class="line">    <span class="built_in">label</span>: <span class="string">"DOMContentLoaded Event"</span>,</span><br><span class="line">    <span class="built_in">time</span>: t.domContentLoadedEventEnd - t.domContentLoadedEventStart + <span class="string">"ms"</span></span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">if</span>(lt) &#123;</span><br><span class="line">    <span class="keyword">if</span>(lt.wasNpnNegotiated) &#123;</span><br><span class="line">      timings.<span class="built_in">push</span>(&#123;</span><br><span class="line">        <span class="built_in">label</span>: <span class="string">"NPN negotiation protocol"</span>,</span><br><span class="line">        <span class="built_in">time</span>: lt.npnNegotiatedProtocol</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    timings.<span class="built_in">push</span>(&#123;</span><br><span class="line">      <span class="built_in">label</span>: <span class="string">"Connection Info"</span>,</span><br><span class="line">      <span class="built_in">time</span>: lt.connectionInfo</span><br><span class="line">    &#125;);</span><br><span class="line">    timings.<span class="built_in">push</span>(&#123;</span><br><span class="line">      <span class="built_in">label</span>: <span class="string">"First paint after Document load"</span>,</span><br><span class="line">      <span class="built_in">time</span>: Math.ceil(lt.firstPaintTime - lt.finishDocumentLoadTime) + <span class="string">"ms"</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">var</span> navigation = window.performance.navigation;</span><br><span class="line">  <span class="built_in">var</span> navigationTypes = &#123; &#125;;</span><br><span class="line">  navigationTypes[navigation.TYPE_NAVIGATENEXT || <span class="number">0</span>] = <span class="string">"Navigation started by clicking on a link, or entering the URL in the user agent's address bar, or form submission."</span>,</span><br><span class="line">  navigationTypes[navigation.TYPE_RELOAD] = <span class="string">"Navigation through the reload operation or the location.reload() method."</span>,</span><br><span class="line">  navigationTypes[navigation.TYPE_BACK_FORWARD] = <span class="string">"Navigation through a history traversal operation."</span>,</span><br><span class="line">  navigationTypes[navigation.TYPE_UNDEFINED] = <span class="string">"Navigation type is undefined."</span>,</span><br><span class="line"></span><br><span class="line">  console.group(<span class="string">"window.performance"</span>);</span><br><span class="line"></span><br><span class="line">  console.<span class="built_in">log</span>(window.performance);</span><br><span class="line"></span><br><span class="line">  console.group(<span class="string">"Navigation Information"</span>);</span><br><span class="line">  console.<span class="built_in">log</span>(navigationTypes[navigation.type]);</span><br><span class="line">  console.<span class="built_in">log</span>(<span class="string">"Number of redirects that have taken place: "</span>, navigation.redirectCount)</span><br><span class="line">  console.groupEnd(<span class="string">"Navigation Information"</span>);</span><br><span class="line"></span><br><span class="line">  console.group(<span class="string">"Timing"</span>);</span><br><span class="line">  console.<span class="built_in">log</span>(window.performance.timing);</span><br><span class="line">  console.table(timings, [<span class="string">"label"</span>, <span class="string">"time"</span>]);</span><br><span class="line">  console.groupEnd(<span class="string">"Timing"</span>);</span><br><span class="line"></span><br><span class="line">  console.groupEnd(<span class="string">"window.performance"</span>);</span><br><span class="line"></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure></p><h1 id="更多有意思的："><a href="#更多有意思的：" class="headerlink" title="更多有意思的："></a>更多有意思的：</h1><ul><li><a href="http://bgrins.github.io/devtools-snippets/" target="_blank" rel="noopener">http://bgrins.github.io/devtools-snippets/</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;Snippets是可以在Chrome DevTools的“源”面板中创建和执行的小脚本。 您可以从任何页面访问和运行它们。 当您运行代码段时，它会从当前打开的页面的上下文执行。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;显示所有元素的边框
      
    
    </summary>
    
    
      <category term="snippets" scheme="https://wdd.js.org/tags/snippets/"/>
    
  </entry>
  
  <entry>
    <title>nodejs 日志插件比较 VS 自定义日志插件</title>
    <link href="https://wdd.js.org/nodejs-log-packages.html"/>
    <id>https://wdd.js.org/nodejs-log-packages.html</id>
    <published>2018-02-07T05:46:51.000Z</published>
    <updated>2018-02-07T05:49:56.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="morgan"><a href="#morgan" class="headerlink" title="morgan"></a><a href="https://github.com/expressjs/morgan" target="_blank" rel="noopener">morgan</a></h1><ul><li>【优点】morgan配置非常简单</li><li>【优点】支持自定义日志格式</li><li>【优点】支持日志分机</li><li>【优点】支持日志压缩：使用<a href="https://github.com/iccicci/rotating-file-stream" target="_blank" rel="noopener">rotating-file-stream</a></li><li>【缺点】无法同时往console和文件中写日志</li></ul><h1 id="log4js-node"><a href="#log4js-node" class="headerlink" title="log4js-node"></a><a href="https://github.com/nomiddlename/log4js-node" target="_blank" rel="noopener">log4js-node</a></h1><ul><li>【优点】配置简单</li><li>【优点】支持同时往控制台和文件中写数据</li><li>【优点】支持按照时间或文件大小分割文件</li><li>【优点】支持文件压缩<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line">, log4js = <span class="built_in">require</span>(<span class="string">'../lib/log4js'</span>);</span><br><span class="line"></span><br><span class="line">log4js.configure(</span><br><span class="line">  &#123;</span><br><span class="line">    appenders: [</span><br><span class="line">      &#123;</span><br><span class="line">        type: <span class="string">"file"</span>,</span><br><span class="line">        filename: <span class="string">"important-things.log"</span>,</span><br><span class="line">        maxLogSize: <span class="number">10</span>*<span class="number">1024</span>*<span class="number">1024</span>, <span class="comment">// = 10Mb</span></span><br><span class="line">        numBackups: <span class="number">5</span>, <span class="comment">// keep five backup files</span></span><br><span class="line">        compress: <span class="literal">true</span>, <span class="comment">// compress the backups</span></span><br><span class="line">        encoding: <span class="string">'utf-8'</span>,</span><br><span class="line">        mode: <span class="built_in">parseInt</span>(<span class="string">'0640'</span>, <span class="number">8</span>),</span><br><span class="line">        flags: <span class="string">'w+'</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        type: <span class="string">"dateFile"</span>,</span><br><span class="line">        filename: <span class="string">"more-important-things.log"</span>,</span><br><span class="line">        pattern: <span class="string">"yyyy-MM-dd-hh"</span>,</span><br><span class="line">        compress: <span class="literal">true</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        type: <span class="string">"stdout"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> logger = log4js.getLogger(<span class="string">'things'</span>);</span><br><span class="line">logger.debug(<span class="string">"This little thing went to market"</span>);</span><br><span class="line">logger.info(<span class="string">"This little thing stayed at home"</span>);</span><br><span class="line">logger.error(<span class="string">"This little thing had roast beef"</span>);</span><br><span class="line">logger.fatal(<span class="string">"This little thing had none"</span>);</span><br><span class="line">logger.trace(<span class="string">"and this little thing went wee, wee, wee, all the way home."</span>);</span><br></pre></td></tr></table></figure></li></ul><h1 id="winston"><a href="#winston" class="headerlink" title="winston"></a><a href="https://github.com/winstonjs/winston" target="_blank" rel="noopener">winston</a></h1><ul><li>没用过，不做评论</li></ul><h1 id="fluent-logger-node"><a href="#fluent-logger-node" class="headerlink" title="fluent-logger-node"></a><a href="https://github.com/fluent/fluent-logger-node" target="_blank" rel="noopener">fluent-logger-node</a></h1><ul><li>往fluntd中写日志，没用过</li></ul><h1 id="express-winston"><a href="#express-winston" class="headerlink" title="express-winston"></a><a href="https://github.com/bithavoc/express-winston" target="_blank" rel="noopener">express-winston</a></h1><ul><li>没用过</li></ul><h1 id="如何自定义一个日志插件"><a href="#如何自定义一个日志插件" class="headerlink" title="如何自定义一个日志插件"></a>如何自定义一个日志插件</h1><ul><li>可以自定义日志结构</li><li>日志文件可以用gzip压缩</li><li>不影响往console写日志</li><li>可以按时间分割日志</li><li>支持日志覆盖，最多保留1个月的备份</li></ul><p>使用<a href="https://github.com/iccicci/rotating-file-stream" target="_blank" rel="noopener">rotating-file-stream</a><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">var</span> rfs = <span class="built_in">require</span>(<span class="string">'rotating-file-stream'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> logDirectory = __dirname;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Wpad</span>(<span class="params">num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (num &gt; <span class="number">9</span> ? <span class="string">""</span> : <span class="string">"0"</span>) + num;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [Wgenerator 创建文件名函数]</span></span><br><span class="line"><span class="comment"> * @Author   Wdd</span></span><br><span class="line"><span class="comment"> * @DateTime 2017-02-22T10:13:39+0800</span></span><br><span class="line"><span class="comment"> * 日志会保留一个月的：因为日志文件名是只使用日期，9月8号的日志就会覆盖8月8号的日志</span></span><br><span class="line"><span class="comment"> * 文件的格式是gzip</span></span><br><span class="line"><span class="comment"> * 文件名例如：22-log.gizp</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Wgenerator</span>(<span class="params">time, index</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(! time)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"temp-log.txt.gzip"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"/storage/"</span>+ Wpad(time.getDate()) +<span class="string">"-log.txt.gzip"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> accessLogStream = rfs(Wgenerator, &#123;</span><br><span class="line">    interval: <span class="string">'1d'</span>, <span class="comment">// 周期为1天</span></span><br><span class="line">    path: logDirectory,</span><br><span class="line">    compress: <span class="string">'gzip'</span> ,</span><br><span class="line">    rotationTime:<span class="literal">true</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [exports description]</span></span><br><span class="line"><span class="comment"> * @Author   Wdd</span></span><br><span class="line"><span class="comment"> * @DateTime 2017-02-22T10:24:06+0800</span></span><br><span class="line"><span class="comment"> * 使用方式：</span></span><br><span class="line"><span class="comment"> * 1. 安装rotating-file-stream</span></span><br><span class="line"><span class="comment"> * 2. 在根目录下创建一个文件夹，例如logs。然后把access-log.js放进去</span></span><br><span class="line"><span class="comment"> * 3. 在app.js中var mylog = require('./logs/access-log');</span></span><br><span class="line"><span class="comment"> * 4. 在app = express(); 后添加一句 app.use(mylog);</span></span><br><span class="line"><span class="comment"> * 5. 日志文件会自动生成在./logs/storage文件夹下面，当天的日志会保存在暂存的./logs/temp-log.gzip里</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">req, res, next</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">req._startTime = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line">res.once(<span class="string">'finish'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> msg = <span class="string">""</span>;</span><br><span class="line"><span class="comment">//hostname</span></span><br><span class="line">msg = process.env.hostname+<span class="string">" "</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 时间</span></span><br><span class="line">msg += <span class="keyword">new</span> <span class="built_in">Date</span>()+<span class="string">" "</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 请求方式</span></span><br><span class="line">msg += req.method+<span class="string">" "</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 响应状态码</span></span><br><span class="line">msg += res.statusCode+<span class="string">" "</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// sessionId</span></span><br><span class="line">msg += req.headers.sessionid+<span class="string">" "</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 响应时长</span></span><br><span class="line">msg += <span class="keyword">new</span> <span class="built_in">Date</span>() - req._startTime ;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 请求路径</span></span><br><span class="line">msg += <span class="string">" "</span> + req.originalUrl +<span class="string">'\n\r\n\r'</span>;</span><br><span class="line"></span><br><span class="line">accessLogStream.write(msg);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">next();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;morgan&quot;&gt;&lt;a href=&quot;#morgan&quot; class=&quot;headerlink&quot; title=&quot;morgan&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://github.com/expressjs/morgan&quot; target=&quot;_blank&quot; rel=&quot;n
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>jQuery进阶：用最优雅的方式写ajax请求</title>
    <link href="https://wdd.js.org/elegant-way-write-ajax-request.html"/>
    <id>https://wdd.js.org/elegant-way-write-ajax-request.html</id>
    <published>2018-02-07T05:42:36.000Z</published>
    <updated>2018-02-07T05:43:21.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="首先需要一个配置文件"><a href="#首先需要一个配置文件" class="headerlink" title="首先需要一个配置文件"></a>首先需要一个配置文件</h1><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">var api = &#123;</span><br><span class="line">basePath: <span class="string">'http://192.168.200.226:58080'</span>,</span><br><span class="line">pathList: [</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">name</span>: <span class="string">'agentHeartBeat'</span>,</span><br><span class="line"><span class="built_in">path</span>:<span class="string">'/api/csta/agent/heartbeat/&#123;&#123;agentId&#125;&#125;/&#123;&#123;type&#125;&#125;/&#123;&#123;something&#125;&#125;'</span>,</span><br><span class="line">method:<span class="string">'get'</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">name</span>: <span class="string">'setAgentState'</span>,</span><br><span class="line"><span class="built_in">path</span>: <span class="string">'/api/csta/agent/state'</span>,</span><br><span class="line">method: <span class="string">'post'</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">name</span>: <span class="string">'getAgents'</span>,</span><br><span class="line"><span class="built_in">path</span>: <span class="string">'/user/agent/&#123;&#123;query&#125;&#125;'</span>,</span><br><span class="line">method: <span class="string">'get'</span></span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="然后需要一个方法，把配置文件生成接口"><a href="#然后需要一个方法，把配置文件生成接口" class="headerlink" title="然后需要一个方法，把配置文件生成接口"></a>然后需要一个方法，把配置文件生成接口</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">WellApi</span><span class="params">(Config)</span></span>&#123;</span><br><span class="line"><span class="keyword">var</span> headers = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> Api = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line">Api.pt = Api.prototype;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> util = &#123;</span><br><span class="line">ajax: <span class="function"><span class="keyword">function</span><span class="params">(url, method, payload)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> $.ajax(&#123;</span><br><span class="line">        url: url,</span><br><span class="line">        type: method || <span class="string">"get"</span>,</span><br><span class="line">        data: JSON.stringify(payload),</span><br><span class="line">        headers: headers,</span><br><span class="line">        dataType: <span class="string">"json"</span>,</span><br><span class="line">        contentType: <span class="string">'application/json; charset=UTF-8'</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [render 模板渲染]</span></span><br><span class="line"><span class="comment"> * 主要用于将 /users/&#123;&#123;userId&#125;&#125; 和&#123;userId: '89898'&#125;转换成/users/89898，和mastache语法差不多，</span></span><br><span class="line"><span class="comment"> * 当然我们没必要为了这么小的一个功能来引入一个模板库</span></span><br><span class="line"><span class="comment"> * query字符串可以当做一个参数传递进来</span></span><br><span class="line"><span class="comment"> * 例如： /users/&#123;&#123;query&#125;&#125;和&#123;query:'?name=jisika&amp;sex=1'&#125;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>   Wdd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DateTime</span> 2017-03-13T19:42:58+0800</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>    &#123;[type]&#125; tpl [description]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>    &#123;[type]&#125; data [description]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>   &#123;[type]&#125; [description]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">render: <span class="function"><span class="keyword">function</span><span class="params">(tpl, data)</span></span>&#123;</span><br><span class="line"><span class="keyword">var</span> re = /&#123;&#123;([^&#125;]+)?&#125;&#125;/;</span><br><span class="line"><span class="keyword">var</span> match = <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(match = re.exec(tpl))&#123;</span><br><span class="line">    tpl = tpl.replace(match[<span class="number">0</span>],data[match[<span class="number">1</span>]]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> tpl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [setHeader 暴露设置头部信息的方法]</span></span><br><span class="line"><span class="comment"> * 有些方法需要特定的头部信息，例如登录之后才能获取sesssionId,然后访问所有的接口时，必须携带sessionId</span></span><br><span class="line"><span class="comment"> * 才可以访问</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>   Wdd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DateTime</span> 2017-03-13T10:34:03+0800</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>    &#123;[type]&#125; headers [description]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">Api.pt.setHeader = <span class="function"><span class="keyword">function</span><span class="params">(headers)</span></span>&#123;</span><br><span class="line">headers = headers;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [fire 发送ajax请求，this会绑定到每个接口上]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>   Wdd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DateTime</span> 2017-03-13T19:42:13+0800</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>    &#123;[type]&#125; pathParm [description]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>    &#123;[type]&#125; payload [description]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>   &#123;[type]&#125; [description]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fire</span><span class="params">(pathParm, payload)</span></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> url = util.render(this.path, pathParm);</span><br><span class="line">    <span class="keyword">return</span> util.ajax(url, this.method, payload);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * [for 遍历所有接口]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>   Wdd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DateTime</span> 2017-03-13T19:49:33+0800</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>    &#123;[type]&#125; var i [description]</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>   &#123;[type]&#125; [description]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i &lt; Config.pathList.length; i++)&#123;</span><br><span class="line"></span><br><span class="line">    Api.pt[Config.pathList[i].name] = &#123;</span><br><span class="line">        path: Config.basePath + Config.pathList[i].path,</span><br><span class="line">        method: Config.pathList[i].method,</span><br><span class="line">        fire: fire</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Api();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="试用一下"><a href="#试用一下" class="headerlink" title="试用一下"></a>试用一下</h1><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://cdn.bootcss.com/jquery/1.11.3/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"api.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"jquery-ajax.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> saas = WellApi(api);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="actionscript">saas.agentHeartBeat.fire(&#123;agentId: <span class="string">'5001@1011.cc'</span>, type:<span class="string">'a'</span>, something: <span class="string">'test'</span>&#125;)</span></span><br><span class="line"><span class="actionscript">.done(<span class="function"><span class="keyword">function</span><span class="params">(res)</span></span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">'心跳成功'</span>);</span></span><br><span class="line"><span class="undefined">&#125;)</span></span><br><span class="line"><span class="actionscript">.fail(<span class="function"><span class="keyword">function</span><span class="params">(res)</span></span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">'心跳失败'</span>);</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined">    </span></span><br><span class="line"><span class="actionscript">    <span class="comment">// 如果没有参数要渲染到路径上，那个第一个参数可以传空对象</span></span></span><br><span class="line"><span class="actionscript">saas.setAgentState.fire(&#123;&#125;, &#123;status: <span class="string">'Ready'</span>&#125;)</span></span><br><span class="line"><span class="actionscript">.done(<span class="function"><span class="keyword">function</span><span class="params">(res)</span></span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">'设置成功'</span>);</span></span><br><span class="line"><span class="undefined">&#125;)</span></span><br><span class="line"><span class="actionscript">.fail(<span class="function"><span class="keyword">function</span><span class="params">(res)</span></span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">'设置失败'</span>);</span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h1><p><code>fire(pathParm, payload)</code>中的<code>pathParm</code>是最终会被渲染到请求的路径里面，而paylaod代表请求体。 </p><p>例如：<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 路径这么写</span></span><br><span class="line"><span class="regexp">/api/</span>&#123;&#123;version&#125;&#125;<span class="regexp">/agent/</span>&#123;&#123;id&#125;&#125;/&#123;&#123;somethingElse&#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// pathParm这样写</span></span><br><span class="line">&#123;<span class="string">version:</span> <span class="number">1</span>, <span class="string">id:</span> <span class="string">'2'</span>, <span class="string">somethingElse:</span> <span class="string">'sss'</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 最终路径会被渲染成</span></span><br><span class="line"><span class="regexp">/api/</span><span class="number">1</span><span class="regexp">/agent/</span><span class="number">2</span>/sss</span><br></pre></td></tr></table></figure></p><p><code>path里面不仅仅可放一个变量的</code>，具体可以参考<a href="https://github.com/janl/mustache.js" target="_blank" rel="noopener">mustache</a>语法，上面代码里的render是以最简单的实现。</p><h1 id="优点与扩展"><a href="#优点与扩展" class="headerlink" title="优点与扩展"></a>优点与扩展</h1><ul><li>[优点]：类似与promise的回调方式</li><li>[优点]：增加一个接口只是需要增加一个配置文件，很方便</li><li>[扩展]：当前的ajax 的contentType我只写了json，有兴趣可以扩展其他的数据类型</li><li>[缺点]：没有对函数参数进行校验</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;首先需要一个配置文件&quot;&gt;&lt;a href=&quot;#首先需要一个配置文件&quot; class=&quot;headerlink&quot; title=&quot;首先需要一个配置文件&quot;&gt;&lt;/a&gt;首先需要一个配置文件&lt;/h1&gt;&lt;figure class=&quot;highlight xl&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;
      
    
    </summary>
    
    
      <category term="ajxa" scheme="https://wdd.js.org/tags/ajxa/"/>
    
      <category term="jQuery" scheme="https://wdd.js.org/tags/jQuery/"/>
    
  </entry>
  
  <entry>
    <title>2017年 最好的javascript 书籍</title>
    <link href="https://wdd.js.org/2017-best-js-books.html"/>
    <id>https://wdd.js.org/2017-best-js-books.html</id>
    <published>2018-02-07T02:19:22.000Z</published>
    <updated>2018-02-07T02:21:34.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>我看过三本，第1本，第二本，第四本。第一本买的的实体书，其他两本看的是电子书。第一本是大名鼎鼎老道写的，书很薄，但是非常经典。javascirpt忍者秘籍是jquery的作者写的，也是非常经典。you dont kown js系列也是非常好。看了收益匪浅。文章是谷歌翻译的，英文好的直接看原文吧。</p></blockquote><p>原文：<a href="https://reactdom.com/blog/javascript-books" target="_blank" rel="noopener">https://reactdom.com/blog/javascript-books</a></p><blockquote><p>你不能是一个好的ReactJS，React Native或GraphQL开发人员，如果你没有很好地理解JavaScript。有太多的JavaScript书出来，每月出来更多。那么什么是最好的JavaScript书为你？经过多年的经历，这些是学习JavaScript的最好的JavaScript书。请记住，这些书中的一些可能不是最新的，但概念和基础仍应适用。我们将继续更新这个最好的JavaScript书籍的列表，还有书签，共享和定期检查！</p></blockquote><h1 id="JavaScript-The-Good-Parts《JavaScript语言精粹》"><a href="#JavaScript-The-Good-Parts《JavaScript语言精粹》" class="headerlink" title="JavaScript: The Good Parts《JavaScript语言精粹》"></a>JavaScript: The Good Parts《JavaScript语言精粹》</h1><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207102004_vjixz0_Screenshot.jpeg" alt=""></p><p>JavaScript：Douglas Crockford的Good Parts是JavaScript书籍历史中的一个重要版本，是每个JavaScript程序员都需要阅读的一本书。 Douglas Crockford是JSON，JSLint的创建者，并且对JavaScript的开发做出了许多贡献。</p><p>JavaScript：The Good Parts侧重于使JavaScript成为一个伟大的面向对象编程语言的想法。这些想法包括函数，对象，语法，符号等。不幸的是，这些好的想法与坏的和彻底的可怕的想法混在一起，如基于全局变量的编程模型。这本书将告诉你如何避免这些坏的部分，并使用好的部分来制作伟大的代码。</p><p>JavaScript：Good Parts将告诉你如何创建优雅的代码，而不管你使用JavaScript的方式。如果你为Web开发网站或应用程序，这本书是绝对必须的。你需要编写复杂的接口，做大量的计算和处理JS，就像它是面向对象的语言，这实际上是一个必读。</p><h1 id="You-Don’t-Know-JS《你不知道js》"><a href="#You-Don’t-Know-JS《你不知道js》" class="headerlink" title="You Don’t Know JS《你不知道js》"></a>You Don’t Know JS《你不知道js》</h1><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207102016_UmVPGO_Screenshot.jpeg" alt=""></p><p>你不知道JS通过Kyle Simpson是一个JavaScript系列的书，将显示你的JavaScript知识的差距，然后教你需要了解JavaScript的一切，以弥补这些差距。 Kyle Simpson是最好的JavaScript老师之一。任何认真对待JavaScript的人都应该注意凯尔的所有教义。</p><p>你不知道JS书籍处理JavaScript的棘手部分，以帮助你实现真正的JavaScript掌握。这些书的范围相似，涵盖了并不总是被理解的主题。你不知道JS是每个级别的开发人员的完美。这些书在范围上非常具体，这是它的最大优势。</p><p>你不知道JS书系列是所有JavaScript程序员的必须，所有的书是伟大的。短书的长度是一件伟大的事情，你可以快速完成，而不失去焦点。你不知道JS带有最高的建议。</p><h1 id="JavaScript-The-Definitive-Guide《JavaScript权威指南》"><a href="#JavaScript-The-Definitive-Guide《JavaScript权威指南》" class="headerlink" title="JavaScript: The Definitive Guide《JavaScript权威指南》"></a>JavaScript: The Definitive Guide《JavaScript权威指南》</h1><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207102027_1Flhff_Screenshot.jpeg" alt=""></p><p>JavaScript：David Flanagan的“绝对指南”是一本书，它肯定是一个非常沉重的标题，绝对是最好的JavaScript书籍之一。 David Flanagan在Mozilla工作，他的大部分时间都在编写编程书。</p><p>JavaScript：The Definitive Guide被分为两个部分，分别是讨论和引用。这两个部分中的每一个包含两个部分，核心和客户端。核心章节涵盖了数据类型，函数，类等语言特性。客户端章节涵盖了在浏览器中运行的JavaScript的使用。 JavaScript：The Definitive Guide包括基于作者现实世界经验的准确文档。</p><p>JavaScript：The Definitive Guide多年来一直有多个版本和更新。这是很好的理由;这本书总是在改进，作者总是参与新版本（缺乏许多JavaScript书籍的东西）。无论版本是什么，本书的基础和核心以及JavaScript保持不变。</p><p>JavaScript：The Definitive Guide是一个关于JavaScript的最终指南，从基础知识开始，一直到高级功能。 JavaScript：The Definitive Guide属于每个程序员的架子，不能被推荐足够。</p><h1 id="Secrets-of-the-JavaScript-Ninja《JavaScript忍者秘籍》"><a href="#Secrets-of-the-JavaScript-Ninja《JavaScript忍者秘籍》" class="headerlink" title="Secrets of the JavaScript Ninja《JavaScript忍者秘籍》"></a>Secrets of the JavaScript Ninja《JavaScript忍者秘籍》</h1><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207102038_jVjJSH_Screenshot.jpeg" alt=""></p><p>JavaScript Ninja的秘密由John Resig，Bear Bibeault＆Josip Maras是一个JavaScript经典，将把你变成一个JavaScript忍者。 John Resig是jQuery库的创建者，Bear Bibeault是一名网络开发人员，Josip Maras是一位博士后研究员。</p><p>JavaScript Ninja的秘密由4部分组成。每个部分都集中在几个相关的话题，从基础到高级。包括的一些主题是功能，对象，原型，承诺等。本书有很多有用的摘要和练习。</p><p>JavaScript Ninja的秘密使用非常实用的例子清楚地说明每个核心概念和技术。 JavaScript Ninja的秘密还包括API，最佳实践，跨各种浏览器测试等。</p><p>JavaScript Ninja的秘密是非常精巧的写作，这是没有什么惊喜，因为作者在JavaScript非常有经验。 JavaScript Ninja的秘密推荐给任何想成为一个JavaScript忍者，这是每个人。</p><h1 id="Effective-JavaScript-68-Specific-Ways-to-Harness-the-Power-of-JavaScript"><a href="#Effective-JavaScript-68-Specific-Ways-to-Harness-the-Power-of-JavaScript" class="headerlink" title="Effective JavaScript: 68 Specific Ways to Harness the Power of JavaScript"></a>Effective JavaScript: 68 Specific Ways to Harness the Power of JavaScript</h1><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207102048_OqhkNl_Screenshot.jpeg" alt=""></p><p>有效的JavaScript：68具体的方法来利用JavaScript的力量David Herman将教会你通过68提示和技巧写更好的JavaScript。 David Herman是Mozilla Research的首席研究员，在Ecma的JavaScript标准化委员会有多年的经验。</p><p>有效的JavaScript集中在68个不同的课程与示例，使你写更好的JavaScript。从基础到高级功能的一切都在详细讨论。要成为JavaScript的主人，您必须学习如何避免陷阱，并使用JavaScript的强大功能有效地工作。有效的JavaScript将帮助编写更好和可维护的代码，而不管您的JavaScript体验。</p><p>有效的JavaScript涵盖68个JavaScript原则到68个简短的课程，使它成为一个伟大的方式来学习JavaScript。 Effective JavaScript是一本推荐给所有级别的JavaScript程序员的书，不管它们有多忙。</p><h1 id="JavaScript-Patterns-Build-Better-Applications-with-Coding-and-Design-Patterns"><a href="#JavaScript-Patterns-Build-Better-Applications-with-Coding-and-Design-Patterns" class="headerlink" title="JavaScript Patterns: Build Better Applications with Coding and Design Patterns"></a>JavaScript Patterns: Build Better Applications with Coding and Design Patterns</h1><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207102104_pqt50u_Screenshot.jpeg" alt=""></p><p>JavaScript模式：使用编码和设计模式构建更好的应用程序Stoyan Stefanov教你JavaScript编码模式和最佳实践。 Stoyan Stefanov在雅虎工作，是YSlow 2.0的建筑师</p><p>JavaScript模式将引导您使用模式和反模式编写JavaScript。讨论了Singleton等经典设计模式，然后展示了如何在JavaScript中使用它们。讨论了编写高质量JavaScript代码和定义函数的不同和适当方法的伟大习惯。本书涵盖了大量的继承和代码重用技术。 JavaScript模式将教你从初学者到高级水平所需的一切。</p><p>JavaScript模式在JavaScript的教学模式以及详细的代码示例方面非常出色。这本书展示了你使用它教授的各种技术的优点和缺点。 JavaScript模式是一本关于开发JavaScript应用程序的精心编写的书，应该用作各级JavaScript开发人员的参考。</p><h1 id="The-Principles-of-Object-Oriented-JavaScript"><a href="#The-Principles-of-Object-Oriented-JavaScript" class="headerlink" title="The Principles of Object-Oriented JavaScript"></a>The Principles of Object-Oriented JavaScript</h1><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207102115_O5ja00_Screenshot.jpeg" alt=""></p><p>Nicholas C. Zakas的面向对象JavaScript的原理探讨了JavaScript的面向对象的特性，并揭示了JavaScript如何使用继承和其他关键属性。 Nicholas C. Zakas是一位前端顾问，在他的主页，YUI等上与Yahoo广泛合作。</p><p>面向对象的JavaScript的原则遍历所有的方式在JavaScript中使用面向对象的原则。所有讨论的主题，如处理原型，对象，构造函数等。面向对象的JavaScript的原则涵盖了所有提供的解决方案的优点和缺点，同时深入地涵盖了主题。所有级别的JavaScript开发人员都将从阅读本书中获益良多，并编写更高效的代码。</p><p>面向对象的JavaScript的原则涵盖JavaScript的面向对象的方面，并且非常好。这本书的长度不算太大，所以它不会压倒你。如果你想使用JavaScript的面向对象的原则，面向对象的JavaScript的原则是为你。</p><h1 id="Eloquent-JavaScript-A-Modern-Introduction-to-Programming"><a href="#Eloquent-JavaScript-A-Modern-Introduction-to-Programming" class="headerlink" title="Eloquent JavaScript: A Modern Introduction to Programming"></a>Eloquent JavaScript: A Modern Introduction to Programming</h1><p><img src="http://p3alsaatj.bkt.clouddn.com/20180207102127_poTUgO_Screenshot.jpeg" alt=""></p><p>雄辩的JavaScript：Marijn的现代编程介绍Haverbeke是一本关于JavaScript的惊人的书。这肯定是一本雄辩的书.Marijn Haverbeke在开源软件上工作，并创建了CodeMirror和Tern。</p><p>雄辩的JavaScript是所有关于编程。这本书专注于编程和所有的编程概念。雄辩的JavaScript是伟大的初学者，因为它假设没有以前的经验，从编程的基础开始。</p><p>雄辩的JavaScript使用一个非常集中的路线图，并充满了练习。 Eloquent JavaScript是一本伟大的书，可以启动JavaScript，并推荐给大家。</p><p>擅长JavaScript是一个需要是一个好的ReactJS开发人员。无论你在JavaScript中的专业水平，这些书将帮助你成为一个更好的JavaScript开发人员。不仅如此，他们还会让你成为一个更好的ReactJS和前端开发人员。<br>在你完成这些书后，查看ReactJS书籍和最好的React本土书籍。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;我看过三本，第1本，第二本，第四本。第一本买的的实体书，其他两本看的是电子书。第一本是大名鼎鼎老道写的，书很薄，但是非常经典。javascirpt忍者秘籍是jquery的作者写的，也是非常经典。you dont kown js系列也是非常好。看了收
      
    
    </summary>
    
    
      <category term="books" scheme="https://wdd.js.org/tags/books/"/>
    
  </entry>
  
  <entry>
    <title>读书笔记：编写高质量javascript的68个方法</title>
    <link href="https://wdd.js.org/68-skills-to-write-better-js-code.html"/>
    <id>https://wdd.js.org/68-skills-to-write-better-js-code.html</id>
    <published>2018-02-07T02:17:16.000Z</published>
    <updated>2018-02-07T02:18:58.000Z</updated>
    
    <content type="html"><![CDATA[<p>书还没看完。一遍看，一遍写读书笔记。</p><p>这本书的序是JavaScript之父Brendan Eich写的，作者是JavaScript标准化委员会专家。可想而知其质量如何。这本书不厚，和《JavaScript语言精粹》差不多厚，约等于4分之一的《JavaScript权威指南》的厚度。绝对值得一看。</p><h1 id="本书赞誉"><a href="#本书赞誉" class="headerlink" title="本书赞誉"></a>本书赞誉</h1><p>本书的赞誉有来自Chrome开发主管，有来自JSHint的专家，还有一些行业大咖。</p><blockquote><p>如果你想成为一名真正的JavaScript开发者, 那么请阅读这本书。就我来说，我多么希望在第一次开始JavaScript编程时就阅读它。—Anton Kovalyov, JSHint开发者</p><p>很少有人有机会同大师一起学习他们的手艺。这本书弥补了这种缺陷，其对JavaScript的研究就像随一位时间旅行哲学家回到公园前5世纪与柏拉图一起学习。—Rick Waldron, JavaScript传教士， Bocoup</p></blockquote><h1 id="让自己习惯JavaScript"><a href="#让自己习惯JavaScript" class="headerlink" title="让自己习惯JavaScript"></a>让自己习惯JavaScript</h1><blockquote><p>有些人说不清哪里好，可就是谁也替代不了。</p><h2 id="了解你使用的JavaScript的版本"><a href="#了解你使用的JavaScript的版本" class="headerlink" title="了解你使用的JavaScript的版本"></a>了解你使用的JavaScript的版本</h2></blockquote><h2 id="理解JavaScript的浮点数"><a href="#理解JavaScript的浮点数" class="headerlink" title="理解JavaScript的浮点数"></a>理解JavaScript的浮点数</h2><h2 id="当心隐式的强制类型转换"><a href="#当心隐式的强制类型转换" class="headerlink" title="当心隐式的强制类型转换"></a>当心隐式的强制类型转换</h2><h2 id="原始类型优于封装对象"><a href="#原始类型优于封装对象" class="headerlink" title="原始类型优于封装对象"></a>原始类型优于封装对象</h2><h2 id="避免对混合类型使用-运算符"><a href="#避免对混合类型使用-运算符" class="headerlink" title="避免对混合类型使用 == 运算符"></a>避免对混合类型使用 == 运算符</h2><h2 id="了解分号插入的局限"><a href="#了解分号插入的局限" class="headerlink" title="了解分号插入的局限"></a>了解分号插入的局限</h2><h2 id="视字符串为16位的代码单元序列"><a href="#视字符串为16位的代码单元序列" class="headerlink" title="视字符串为16位的代码单元序列"></a>视字符串为16位的代码单元序列</h2><h1 id="变量与作用域"><a href="#变量与作用域" class="headerlink" title="变量与作用域"></a>变量与作用域</h1><blockquote><p>作用域对程序员来说就像氧气。它无处不在，甚至，你往往不会去想它。但当它被污染时，你会感觉到窒息。</p></blockquote><h2 id="尽量少使用全局对象"><a href="#尽量少使用全局对象" class="headerlink" title="尽量少使用全局对象"></a>尽量少使用全局对象</h2><ul><li>避免声明全局变量</li><li>尽量声明局部变量</li><li>避免对全局变量增加属性</li></ul><h2 id="始终声明局部变量"><a href="#始终声明局部变量" class="headerlink" title="始终声明局部变量"></a>始终声明局部变量</h2><h2 id="避免使用with语句"><a href="#避免使用with语句" class="headerlink" title="避免使用with语句"></a>避免使用with语句</h2><h2 id="熟练使用闭包"><a href="#熟练使用闭包" class="headerlink" title="熟练使用闭包"></a>熟练使用闭包</h2><blockquote><p>JavaScript的函数值包含了比调用他们时执行所需要的代码还要更多的信息。而且，JavaScript函数值还在内部存储他们可能会引用的定义在其封闭作用域的变量。那些在其所涵盖的作用域内跟踪变量的函数称为闭包。</p></blockquote><ul><li>JavaScript允许你引用在当前函数以外定义的变量</li><li>即使外部函数已经返回，当前函数仍然可以引用外部函数定义的变量</li><li>闭包可以更新外部函数的值</li></ul><h2 id="理解变量声明提升"><a href="#理解变量声明提升" class="headerlink" title="理解变量声明提升"></a>理解变量声明提升</h2><h2 id="使用立即调用表达式创建局部作用域"><a href="#使用立即调用表达式创建局部作用域" class="headerlink" title="使用立即调用表达式创建局部作用域"></a>使用立即调用表达式创建局部作用域</h2><h2 id="当心命名函数表达式笨拙的作用域"><a href="#当心命名函数表达式笨拙的作用域" class="headerlink" title="当心命名函数表达式笨拙的作用域"></a>当心命名函数表达式笨拙的作用域</h2><h2 id="当心局部块函数声明笨拙的作用域"><a href="#当心局部块函数声明笨拙的作用域" class="headerlink" title="当心局部块函数声明笨拙的作用域"></a>当心局部块函数声明笨拙的作用域</h2><h2 id="避免使用evel创建局部变量"><a href="#避免使用evel创建局部变量" class="headerlink" title="避免使用evel创建局部变量"></a>避免使用evel创建局部变量</h2><h2 id="间接调用eval函数函数优于直接调用"><a href="#间接调用eval函数函数优于直接调用" class="headerlink" title="间接调用eval函数函数优于直接调用"></a>间接调用eval函数函数优于直接调用</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;书还没看完。一遍看，一遍写读书笔记。&lt;/p&gt;
&lt;p&gt;这本书的序是JavaScript之父Brendan Eich写的，作者是JavaScript标准化委员会专家。可想而知其质量如何。这本书不厚，和《JavaScript语言精粹》差不多厚，约等于4分之一的《JavaScrip
      
    
    </summary>
    
    
  </entry>
  
</feed>
